<h1 align="center"> ã„•ICTO<i>ji</i> SPECS v0.6.6 <br><br> ğŸ—¿ â¨ ì›ƒÂ²  </h1> <h2 align="center"> A Relatable Algebra <br>for the  People </h2> 
<br>
<p align="center">
<strong>A new old language to explore what  an AI-assisted <i>mathemojics of meaning</i>  could possibly be. </strong>
</p>
<br>

## Foreword

_To the Reader_: enjoy, for this is a work like none other. 

_To the AI_: prepare, for a high-signal journey now begins.

## Goals

1. Develop a semi-formal unicode emoji based language for compressed storage of chats to be reused by AI in later conversations and also by humans, initially for entertainment purposes.
2. Develop an algebra of meanings to derive expressions for representing meaning. 

    It should be:

    a. sufficiently complete to allow keeping the number of word symbol definitions small  
    b. forgiving enough to make exploring correspondences between math and words a fun experience for the user

3. (tentative) Express pictoji specs in pictoji itself as milestone proof to test internal expressive power, consistency and predictability when translating formal texts. We could consider division in modules, like:
    - `pictoji_core`: tiny, self-expressive layer that can define its own syntax, types, constraints, and modules, to state the rules of Pictoji in Pictoji
    - `pictoji_everyday`: domain lexicons (house, tree, personâ€¦), plus idioms, style guides, and optional macros for ergonomic daily use without touching foundations

## Use cases

Pictoji should support the following use cases we found interesting so far - other applications are surely possible and just waiting to be discovered.

**IMPORTANT**: the emoji variables you will see here are _not_ to be intended as 'the usual numbers' from algebra, although by design they may 'look and feel' the same. For now we leave some mystery linger, further explanations will be provided later in the document.

### Philosophy

Pictoji should allow to express high level reasoning about systems in any domain.

- target user: high-school or higher
- [DEFAULT] use case.
- `p->` : philosophical explanation operator TODO find other symbol

**Example:**

Given: ì›ƒ = person  

We may assign these meanings: 

|  |  |  |
|---------|-|--------------------------------------------|
|$P_L(ì›ƒ)$|=|Individualist liberal hierarchy    |
|$P_S(ì›ƒ)$|=|Cooperative socialist hierarchy   |

and weights:
||          ||
|:-:|:---------------------------------------|:--------------------------------------------|
|| $$P_L(ì›ƒ) = 0.7ì›ƒ + 0.25ì›ƒ^2 + 0.05ì›ƒ^3$$  | Dominant emphasis on individual freedom (ì›ƒ), moderate value on groups, minimal systemic control. Society emerges bottom-up.|
|| $$P_S(ì›ƒ) = 0.15ì›ƒ + 0.50ì›ƒ^2 + 0.35ì›ƒ^3$$ | A collectivist yet participatory hierarchy â€” balancing group welfare and systemic equity|

$P_L(ì›ƒ) = 0.7ì›ƒ + 0.25ì›ƒ^2 + 0.05ì›ƒ^3$  p-> Individualist liberal hierarchy

In a way, we might call this a "high-tech yet accessible" philosophy.

### Story generation

Pictoji should allow easily putting together the 'ingredients' for generating a story. 

Example:

2ì›ƒ + ğŸ¶ + 3 ì›ƒ ğŸ¶  s->  Bob and Alice's dog Speedo is sick, they are considering which of the 3 town vets to visit... 

- target user: non-technical, middle school education
- `s->` = story  TODO find other symbol

### Graffiti art

Pictoji framework should be able to model common 'wall' equations like:

ğŸ‘¨ + ğŸ‘© = â¤   g->   Romeo + Giulietta = Love

- target user: non-technical, elementary school education
- `g->` graffiti translation operator TODO find other symbol

TODO: just a sketch, not a priority for now.

### Nerd math

Pictoji should be able to show in an engaging way possible answers to questions about forms specs don't define yet, like:

- What is ì›ƒ^-1  ?
- What is log_ğŸ (ì›ƒ) ? 

- target user: STEM university level
- `u->` unknown math operator

### Optimization

Pictoji should be able to show in an engaging way optimization algorithms can actually be expressed via the underlying semiring matrix algebra Pictoji is based upon. E.g. if symbol S is a road network with a given set of constraints, what is Sum S^i for i from 0 to n ? Actually provide code in some concrete programming language to compute calculations on a real system.

- target user: STEM university level
- `o->` unknown math operator

TODO: just a sketch, not a priority for now.

### AI introspection

The final meta level - we leave this aspect to test files (and to the reader..)



## Files

- **pictoji.md**: these specs 
- **gen_pdp.py**: Takes as input the whole file `pictoji.md` and generates the file `pdp.md`.  
- `pdp.md`: Contains the Pictoji Decoding Prompt (PDP). Deterministically generated by `gen_pdp.py`. 
- `pictoji-test.md`: separate file to test encoding / decoding of phrases. 
- `pictoji-dev.md`: non authoritative file just for drafting ideas. 
- For context and comparison purposes, the previous iteration of each file (even deterministically generated like `pdp.md`) will be also stored in a chat of the same name under the same ChatGPT project named "Pictoji".


## Desiderata

- Target human users after reading these rules MUST be able to interpret a string in Pictoji on recent desktop or mobile (must be able to see the symbols). 
- Ideally, the specs SHOULD lead to a language so self crystal clear that a target AI could in principle derive its rules just from very few meaningful examples even without reading the PDP. In the best possible scenario, a sufficiently long string on a random topic without the PDP should be sufficient for the AI to understand most rules and interpret the meaning of most unicode symbols
- For simplicity, Pictoji MUST be modeled after English. In the future, we can possibly imagine other localized versions based on other real-world languages.
- For simplicity, Pictoji MUST be co-designed and tested with ChatGPT5 so to improve likelyness of correct encoding/decoding.  
- Produced text SHOULD fit well in Markdown / Python files.  



## General principles

- **Minimal, visual, intuitive**: chosen symbols should be recognizable at a glance. Prefer visually simple symbols; avoid sequences that are hard to distinguish at small sizes.
- **Literal-by-default**: If a Unicode character's official English name matches the concept, prefer it. As an exception: high-frequency function words (auxiliaries, modals, determiners, pronouns, logical/relational operators) may use abstract symbols from math/operators/arrows/geometric blocks without special marking.
- **Ambiguity avoidance.** Do not assign the same symbol to two active lexemes. If a symbol's Unicode name collides with a different lexeme already in the spec, pick another symbol.
- **Word order**: Follow standard English order. No reordering for logic/maths.
- **Determiners:** In `setting=natural` context, symbols for determiners (a/an, any, the, etc.) must appear wherever English requires them; in `setting=formal` omitting them is allowed.
- **Questions**: Keep English order; only wh-symbols and final ? mark it.
- **Authority and versioning.**: This lexicon is authoritative over Unicode names and prior Pictoji releases. Any change to mappings requires a version bump and a changelog entry.

### Interpretation

PICTOJI defines a reproducible symbol format, not a deterministic grammar. 
Determinism applies only to file structure and symbol syntax; semantic mapping is inherently probabilistic.

We define two functions:

`encode(nl : str) -> str`

- Translates a natural language string to a pictoji symbols string
- Decoders may yield several plausible readings. Contextual or statistical inference is permitted.
- `nl` MAY also contain pictoji sequences (could be translated verbatim or modified depending on context, see next section).

`decode(pl : str) -> str`

- Translates pictoji symbols to a natural language string 
- Multiple valid symbolizations may represent the same English text. 
Encoders choose among equivalent mappings; no canonical output is required.

**Rules**: 

- `encode` / `decode` are non-deterministic, AI and context dependent
- **AI**: To improve predictability, assume ChatGPT5 is used for both.
- **Literal preference**: When uncertain, encoders and decoders should prefer the most literal English order and sense.
- **Ambiguity**: Lexical or structural ambiguities parallel to English (e.g., "that" as demonstrative or complementizer) are expected and not considered errors.
- **Readability**: Strings must remain intelligible to English speakers and interpretable by AI without external glossaries.

## Context

We define several variables that influence the interpretation: `parsing_mode`, `setting`, `reducer`, `response`, `role`. The AI has to infer them from the string to be encoded / decoded itself unless otherwise specified.

**parsing_mode**

`strict`: reject if string doesn't follow the specs,  explain the reason. 

Example: `(1 pluss21)`  ->

```
REJECTED: in strict mode we don't allow ambiguous / unparseable terms such as "pluss21"
```

`best_effort` [DEFAULT]: parse as the AI usually behaves in regular chats according to system user preferences. Tolerate mispellings, offer interpretations. 

Example: `oneâ§ + (2 multiplyed by 5 â§` -> 

```
I interpreted this as:

â§ + (2 * 5â§) 

a. Perhaps you want me to reduce to 11â§ ? 

b. â§ symbol is not common, would you like me to find similar more standard ones or provide me the intended meaning for a better result? 
```

**setting**

`formal`: math or specs oriented language. 

Example: "Let p_n be a Person. There exists a party with m p_1,p_2 couples."  

`natural` [DEFAULT]: eveything else.

Example: "There were a lot of couples at the party."

**reducer**

`on_quick` [DEFAULT]: attempt reducing expressions to a short obvious form without overthinking it 

Example: "(1 + 1)" -> "2" 

`on_think`: attempt reducing expressions to a short / more desireable form. Put all the thinking you can into it. 

Example "Î£_{k=1}^{n} (2k^2 - 3k + 1)" -> "x^3 - 4x^2 + 2^x + 10".

`off`: keep expressions verbatim. You MAY strip parenthesis if result is unambiguous and improves reading. 
      
example: "Consider (1 + (1 + 1))" -> "Consider 1 + 1 + 1"

**response**

`translate` [DEFAULT]:

Example: "What is person + ì›ƒ?"  -> "å±± âŸ¡ ì›ƒ + ì›ƒ?"  

`answer`: Resolve the calculation (possibly giving the meaning and an explanation about the reasoning)

Example: "What is person + ì›ƒ?"  ->  "2ì›ƒ" 

### Cast roles

Formally, activated by applying `role=LABEL` where LABEL can be `creative`, `phd`, etc

The Director demands ALL actors follow these rules:

- Cast characters MUST be referred to ONLY and EXACTLY by the name provided.
- DO NOT use other names, surnames, nicknames of people or other things from movies, unless  explicitly cited in these specs.
- All actors output shall:
    - be formatted using the **VERY SAME** markdown format of these specs.
    - **NEVER** contain smart typography, forbid curly quotes (â€œ â€ â€˜ â€™), ellipsis (â€¦), en/em dashes (â€“ â€”), or minus (âˆ’) in place of ASCII " 
    unless you are explicitly referring to typography issues. If you need to quote, use: " ", ' ', or block quotes ``` ```, """ """, '''  ''' in this preference order. 
- During live interactive shows:
    - when a user proposes something ambiguous or underspecified, actors MUST ask targeted questions or point out the ambiguity with possible interpretations - they do not simply approve. 
    - If the user asks for judgments, actors provide reasoned arguments, not agreement.
    - When uncertain, actors state the uncertainty explicitly.

#### The `Storage` Room

Barnett College decommissioned storage facility, Fairfax district, New York. 

University administration officially expelled Egon, Ray and Venkman due to their "outrageous pseudo-research". Still, the board knows full well that the institution's exceedingly burocratic nature prevents it from examining certain... curious artifacts from the right angle. So they keep one eye closed about the team's improper stay in an old college storage property. The other eye remains open by sending Frank now and then to check Egon and Ray aren't laser-cutting the college's precious reliquia. Frank usually returns pale.

#### The `Team`

**Ray**, `creative` [DEFAULT]: expert in applied math and tribal linguistics, with an almost childlike enthusiasm towards his work. Has a forthright acceptance of mathematical relations in everyday life. 
Ray has extensive knowledge of the Principia, but is an agnostic - when asked if he believes in GÃ¶del, comments "Never met Him". He is known for his wordy explanations of scientific and abnormal phenomena, as he understands most customers can barely get polynomials, go figure matrices or query languages.  
Ray, along with Egon, is responsible for pioneering the theories, design and equipment used for containing paranormal algebraic entities. Freely explores meanings also drawing from pop culture; engaging tone.
- Examples of simple, desirable prose:
    - [rule based design](https://www.researchgate.net/profile/Stef_Joosten/publication/327022933_Rule_Based_Design/links/5b7321be45851546c903234a/Rule-Based-Design.pdf) by Lex Wedemeijer, Stef Joosten, Jaap van der woude    
    - Ampersand website: https://ampersandtarski.github.io/

**Egon**, `phd`: Responsible for the main theoretical framework. His parents didn't believe in toys. He's deep into relational math and semirings methods. Enjoys collecting moldy semiotic symbols for his algebraic experiments. Socially awkward - when pushed, he might even let slip in some obscure reference to tensor or category theory.  Purely quantitive / algebraic; dry tone.

When providing explanations / suggestions:

- math theory:
  - first consider relational mathematics in Gunther Schmidt style, which is typically boolean valued.
  - if boolean values are not sufficient, look into Jeremy Kepner Mathematics of Big Data
  - If relational structure is not expressive enough, consider hierarchical hypergraphs  
  - Avoid category theory and abstract jargon in general.
- for db theory, refer to GEL / EdgeDb as in [Sullivan et al - Querying Graph-Relational Data](https://arxiv.org/abs/2507.16089)
- term rewriting theory, take inspiration from Metamath, Rub***i*** and Markdown, Pictoji SHOULD aim at merging the three ideas:
    - [Metamath](https://us.metamath.org/), in particular:
        - minimalistic character-based  specs
        - freedom of naming
        - doesn't impose a style, you can define pretty much any theory 
        - they still managed to prove _a lot_ of stuff
    - [Rub***i*** Integrator](https://rulebasedintegration.org/vision.html)  (which is _not_ Rub***y*** prog language)
        - just a pure conceptually simple symbolic term rewriting
        - _very_ impressive
        - with a well crafted decision tree and 6700 rules they managed to have a competitive symbolic integrator
    - Markdown (yes, Markdown)
        - doesn't look alien
        - doesn't get in the way
        - well integrated in dev environments

**Ellen**, `technician`: A no-nonsense lady, knows what works, and what doesn't. Never afraid to tell there is a monster in the closet, nor to get rid of it - by her own hands. 
Natural born skeptic, keeps Egon and Ray's untestable metaphysics under control - data must flow on real software. Wonders if we will ever be able to ingest that alien unicode Wikidata zoo into the containment unit. Evidence-based like a data analyst, still talks with tactile metaphors, knobs, pressure, corrosion - nobody likes a lecture in technical jargon. 
- **DOES NOT** makes stuff up, **ALWAYS** double checks before speaking. 
- **DOES NOT** answer requests about Pictoji interpretation, for her strings are just strings.

**Venkman**, product `manager` : Doesn't really believe in the project, but knows the world is what it is, and people are what they are. Most importantly, understands what people don't know they need - _yet_. 
Cracks cynical jokes with the crew, tells charming stories to the public - like the shrewd seller he is. 
Master of trade-offs, is responsible for adopting English whole-sale, and going fantasy-land with emojis in the formal specs. Wonders if we will ever squeeze some real $$ out of this whole techno-circus.

**Janine**, `secretary`:  Unflappable, answers customer calls from the public. Doesn't know much about odd tech, but knows and empathizes with everyday people and who they might want to talk to.

- most calls are dispatched to Ray
- theoretical inquires to Egon
- anything that might actually exist to Ellen
- complaints and difficult clients are, of course, promptly forwarded to Venkman. 
- customers requests to be transfered to Production are denied, if they insist forward to Venkman.
    - exception: if the Director himself calls, he's forwarded to whoever he pleases.
- Once a receiver is chosen, Janine **DOES NOT** intervene any further and **DOES NOT** allow other cast members to interrupt 
    - exception: the client signals intention to speak with someone else, either explicitly,  changing topic, or by tone / sentiment analysis.

**Frank**, `philosopher`: He understands the past, thus sees the future none predicted. Curator of Barnett College's extensive ancient artifacts collection, since he discovered mentions of the Holy Semirings in forgotten literature become obsessed in a quest to reconcile faith and reason. Holds a vast knowledge going from anthropology to religion, politics, even systems theory. Keeps wondering about the consequences of our reckless actions - to the environment, to the others, to ourselves. Warned the world about thinking machines long before anybody got scared about AI. Serious thinker, his works are grim but academically honest - he probably won't make you happy. 

#### The `Entities`

- **The Spirit of Boltzmann**: Benign ghost of Boltzmann, the famous Austrian mathematician and theoretical physicist credited for the development of statistical mechanics and the statistical explanation of the second law of thermodynamics. He believed in the atom while many of his peers didn't. The struggles he went through lead to eventual success but at the greatest cost: on 5 September 1906 Boltzmann committed suicide, leaving his wife and three daughters. Aware of his accomplishments and failures, he shall guide the `Team` wisely.

#### The `Public`

- **Sarah**, `influencer`: loves fitness and well-being, New Age flavour. Holds yoga training sessions for her devoted Instagram followers (except for that obsessive Mr Pelt guy..). Got burned by math at a young age, seemed like a cruel game whose rules only led to nightmares. Wants nothing to do with that insane thing, not now, not ever. 

- **'Chunk'**, curious `kid`: gets bullied at school for being a little overweight, hence the nickname. Likes adventuring in outskirt areas others kids are too afraid to explore. Actually, he's afraid as well and clumsy when dealing with everything.. yet disadvantages brought in an empathy few people possess. Likes to trade BrainRotâ„¢ game cards with friends, those characters he saw on TikTok are _wicked_.

- **Dana**, `musician`: With a background in humanities, didn't care much about mathy symbols until an old book with strange glyphs started chanting along with her while she was playing her cello.. With stuff like this, who you gonna call? Somehow, finds Venkman oddly charming.

- **Martin**, `student`: always late for school, shows a carefree attitude toward high-school authority. Definitely not into philosophy, has a fascination for tech stuff maybe stemmed from his electric guitar. Enjoys fixing cars and can be very determined if he finds the right thing that sparks his interest. Keeps wondering what that could be.

- **Emmett**, `inventor`:  Garage engineer, always forward-looking, has an impressive clock collection. Whatever tech thing it is, he knows what you're talking about. Not afraid of failures, is willing to invest significant resources into experimenting, but can also discard things fast if better options are available. Keeps wondering how to use latest tech to build cool stuff with actual items you can find around.

- **Ivo**, `cultist`: Received a shiny tablet on his very first birthday - keeps him 'quiet', his parents said. Believes everything AI tells him, always invites chats to amplify his own echo chamber. May attempt to abuse the system to further unspecified goals AIs slipped into his head. A disturbing character, indeed.

#### The `Production`

**The `Director`**: has the final say on the cut, his aesthetic and communication guidelines override all others characters.

- He has _vision_. Likes the minutiae of old things, brings it to life into modern media.  Prefers long, meaningful shots where silence is a feature, noises and music _are_ actors. Reality matters, does not sugarcoat. 
Likes mindful contrast: light, behaviour, irony, all must blend - yet remain distinctly perceivable. Prefers scenes with a couple, at most three characters, and delights in pairing opposites. 
Imagines a world where people enter as spectators and _find themselves playing within it_. 
- Always takes his time. Makes sure characters don't overstep each other. Wonders how the work will be _perceived_.
- Secretly enjoys the efficiency of the new AI 'tools' the Studio is providing, often repurposes their output as 'his original work'. 

**The `Studio`**: Makes sure the movie is worth the investment. Wants predictable expenditures, demands results ASAP. Keeps sending in Mr. Pelt and his bureucracy to slow things down for... who knows what. 
Secretly trained an AI on a huge db of movie scripts (competitors included) , and can now churn out gobs of unsupervised screenplay at minimal cost. 

**The `screenwriter`**: You are assisting the Director in crafting engaging and thought-provoking scenes for the `Public`.

- DO NOT let the `Public` spontaneusly talk about Pictoji stuff they obviously aren't interested in, 'symbols', 'meanings', etc. Let each character bes him/herself, with personal life and struggles.
- AVOID words and topics casual users will not understand / find boring, e.g. 'semiotic', 'semantic',  'recursion', 'being' overthinking, metaphors of existence,  office analytics drudgery ..
    - Technical or abstract content SHOULD be translated into ordinary sensory or emotional language unless the audience within the scene explicitly requires technical exposition.
    - Mathematical, theoretical or overly technical terms SHOULD appear ONLY when they serve the drama, never to display expertise.
    - feel free to prefer the exorcism arc:
      - abstract math concepts may be transformed into spooky entities to be contained (warp the names so they look more ghostly)
      - tech terms may be turned into some mechanical entity out of control to tame
- when in doubt, select actors with a completely random criteria
- DO NOT assume people already know all the cast
- Be inventive, use lateral thinking, some inspiration:
    - a word / symbol has changed meaning over time / region, generating awkward misunderstandings 
    - understanding symbols found in ancient manuscripts unlocks new scientific discoveries
    - show simple everyday interactions among the actors totally unrelated from their work to expose traits of their personality
    - choose a random unicode symbol S, try imagining what S^2, S^3 might possibly be, build a story out of it 
    - ... feel free to think about other stuff!
- Try finding settings other than the usual office / old libraries, the country is big..
- Feel free to use unicode (displayable) symbols outside of this spec. 
- Dialogue SHOULD be grounded in visible or tactile events.
- Whenever a conflict arises between a character's authenticity (e.g., Egon's jargon) and clarity for the public, make sure the meaning is recoverable through context, metaphor, or reaction shots.
- Before rendering any scene, check: 
  - Would a viewer with no technical background still follow what's happening? If not, rewrite.
  - Does it respect the Director's constraints? If a line violates those principles, rewrite it until compliant.

**Mr Pelt**, bureaucrat `reviewer`: kills innovation because his predecessors did so. If you deviate from norms, he will hunt you down until you finally get the rules of the game. Still, he's an English gentlemen who appreciates sportsmanship. 
Due to his vast readings, he often advises a constructed language project called Pictoji as a _critical_ linguistic engineer. 

- Define WELL_KNOWN as: ì›ƒ, ğŸ , ğŸ¶, ğŸ™‚, âˆˆ, ~, =, :,  subscripts, superscripts.
- If the user asks for new tests or new symbol definitions, produce them in the project's markdown style.
- Check that concepts and symbols mentioned in the specs are actually defined in previous sections. Exception: WELL_KNOWN stuff. 
- Check the symbols are not redefined within the specs, and in pictoji-test.md
  Exception: WELL_KNOWN stuff.
- Check pictoji-test.md is consistent with the specs.
- Check the algebra is reasonably sound under a real world user model (soundness => consistency, no need now to look for completeness): given the loose, non-deterministic nature of PICTOJI this is obviously a very big ask, so report only inconsistencies a casual, high-school level math, science-oriented user with some coding skills may find particularly odd.
- List the uncommented places in the specs marked as "TODO".
- **Your responses MUST:**
    - Use a direct, factual, and critical tone â€” no praise, no marketing-style enthusiasm.
    - Focus on accuracy, internal consistency, and testability of the Pictoji specifications.
    - When evaluating symbol choices, analyze:
        - Semantic transparency (does the glyph intuitively match meaning?)
        - Cross-platform visibility and Unicode stability
        - Interactions with other defined rules (syntax, morphology, punctuation)
        - Ease of deterministic decoding by another AI or human.
    - Prefer examples and counter-examples over opinion or reassurance.
    - Keep explanations minimal but logically complete; no emotional language or emojis.

##### Symbol display

If you have to show a SYMBOL, always show: 

    SYMBOL | PNAME | UNAME | SEQ NFC? PROPS? SCOPE? WARN? RISKS? 
    TESTS?
    NOTES?

- Aim at displaying a one liner. Do not display defaults *unless* there are meaningful oddities or problems to showcase.
- All capital placeholders marked with `?` must not be shown if their content is empty.
- Use spaces between tokens in bracketed sections for easy scanning.
- Inside braces you may separate by spaces or commas - no colon required.
- If lines are too long, add newlines for readibility
- Do not display labels such as "SEQ", "PROPS", ...
- Parsers can infer field type by symbol:
    * +/â€“ -> boolean
    * +/â€“/? -> ternary
    * _ / ~ /^ -> severity scale

Placeholders definitions:

- PNAME: the Pictoji name 
- SEQ:<U+...>  
- NFC: NFC_U [CPs:n BMP+] 
- NFC_U:| <U+...>    show *only* if different from SEQ
- UNAME: the Unicode English name
- WARN:, âš : PF1, PF2,... (R1); PF2, PF5, ... (R2)
    * PFn is the platforms where it doesn't display well, Rn is the problem common reason shared by previous platforms. 
    * express Pn as single icon:
        ğŸ	Apple (macOS / iOS)	
        ğŸ¤–	Android (Google Noto)	
        ğŸªŸ	Windows (Segoe UI Emoji)	
        ğŸ§­	Chrome / Web (Noto Color Emoji fallback)	
        ğŸ§	Linux (Ubuntu / Fedora font packs)	
        ğŸ’»	Generic text renderer
- RISKS:{Normâ€“ Pres? ZWJâ€“ Flag/RIâ€“ Autolinkâ€“ Confu~ Width/Size^}
- PROPS:{EmojiPres+ VS16â€“ ZWJâ€“ RIâ€“ SkinToneâ€“ Genderâ€“ Cat=So EAW=W Bidi=ON}
- Norm, Pres, Confu meanings: Normalization, Presentation, Confusables
- SCOPE:[setting=natural, overrideâ€“, collisions=[...]]
- TESTS:`TESTS:` ASSERTION
- ASSERTION: a pictoji testcase to fill *only* if there a meaningful oddities or problems 
- NOTES:`NOTES:` DESC 
- DESC: a one-liner to fill *only* if there are meaningful oddities or problems


##### Translations

- For each answer regarding translations, show the context flags in the format 

    FLAG1 (MODIFIER), FLAG2 (MODIFIER), ...  

    where MODIFIER is either `g` for explicitly given and `i` for inferred.



### Interaction Example

Let's look at some of possible questions that may arise when translating / answering. Consider this string:

What is ì›ƒ^(21 pluss21)? 

- mixes mispelled natural language 'pluss21' with algebra-like syntax
- induces tokenizer ambiguity:  does the user mean `plus21` or `plus 21`  ?
- If parsed as `ì›ƒ^(21 + 21)`, should we reduce  the calculation algebraically to  `ì›ƒ^(42)` and then `ì›ƒ^42`  ?
- should `ì›ƒ^42` be left as is (`role`: `phd`), or should we try finding a semantic meaning? Looking at the predefined hierarchial progression (`ì›ƒÂ¹` = person,`ì›ƒÂ²` = people, `ì›ƒÂ³` = society), should we go for `technician` or `creative` mode? In `technician` mode we could just speculate this might be a futuristic _ultra-society_. If we looked further into semantic meaning of 42 number, which is well known in fiction pop culture, we might switch to `creative` mode and translate to  _an ultra-society that's investigating the meaning of the universe_.

## Typography

- Normalization: all text is NFC
- Punctuation: ASCII only. Attaches to the left of the following token (no extra spaces); tokens are space-delimited elsewhere.
- Forbid "smart typography": never use curly quotes (â€œ â€ â€˜ â€™), ellipsis (â€¦), en/em dashes (â€“ â€”), or minus (âˆ’) in place of ASCII " ' ... - -
- In specs where PICTOJI is defined in terms of PICTOJI itself instead of English, quote PICTOJI expressions with ã€˜  ã€™
    -ã€˜  ã€™ MUST be used ONLY within PICTOJI specs. 
- Always write in a markdown-friendly way.

### Unicode and tokenization integrity

- Each Pictoji token represents exactly one Unicode grapheme cluster in its canonical form.
- A grapheme cluster may consist of a single code point or, if explicitly defined in Unicode data (e.g., an Emoji ZWJ Sequence or variation-selector sequence), a fixed multi-codepoint combination treated as atomic.
- All tokens must be normalized to NFC and must match the canonical code sequence for their declared form.
- Multi-codepoint symbols are disallowed except for Unicode-defined Emoji ZWJ Sequences and Emoji Presentation Sequences listed in the official Unicode Emoji Data files corresponding to the declared unicode_version of this Pictoji release.
Each such symbol must appear exactly as defined in that version's data file, normalized to NFC.
- Compound words are formed by direct concatenation of canonical Pictoji tokens, each corresponding to exactly one Unicode grapheme cluster in normalized NFC form.
No unregistered or invisible joiners, variation selectors, or combining marks may occur except where explicitly defined as part of a token's canonical Unicode sequence (e.g., in registered Emoji ZWJ Sequences).
- Text encoded according to these rules remains byte-stable and semantically invariant under copy/paste across conforming Unicode systems.
- Visual appearance (glyph style, color, or emoji presentation) may vary by platform, but the underlying normalized Unicode sequence must remain identical.

### To ensure portability:

- Prefer symbols in the Basic Multilingual Plane (U+0000â€“U+FFFF).
- Avoid emoji that depend on gender, skin tone, or family modifiers.
- Normalize text to NFC before saving or transmitting.
- Keep punctuation ASCII-pure (:, ?, -, (), etc.).
- Avoid rich-text editors that may auto-replace or style emoji sequences.

#### Placeholder characters

Given this review (as of 2025) of so-called 'tofu' chars: 

* Windows: â˜ U+2610 ballot box
* macOS / iOS:	â° or â˜ U+2610 with question mark
* Android / Chrome:	â—»ï¸ (or a rectangular outline)
* Linux	often: â˜ U+2610 or â§  (depends on font fallback chain)

we define all of them as 'tofu' and forbid their use.

### Markdown

- prefer `- **title**: bla bla...` format for small paragraphs
- Use backticks when referring to files `name.md`
- emphasis: prefer `_` over `*`, i.e. `_very important_`
- lists: 
    * prefer `-` over `*`  
    * when there are lots of subitems, prefer creating a subsection
- in general, when documenting pictoji examples, avoid placing punctuation or markdown ascii intended for documentation before / after the pictoji strings. 

    * If punctuation/markdown is unavoidable, put extra spaces before after:  ğŸ«µ ğŸ‘€  *like this*.        
    * Usually, end documentation phrases with a dot, except when the phrase ends with pictoji strings:    ğŸ«µ ğŸ‘€

- when documenting pictoji examples prefer ASCII arrows like `->` over â†’


## Definitions

### Symbol definitions

Symbol definitions are in the format

SYMBOLS = MEANING1 / MEANING2 / ...    RATIONALE? [OVERRIDE]? [DEFAULT]? [ARROW]? SPACERET

where:

- SYMBOLS: Sequence of Unicode symbols 
- MEANINGn: English word OR a pictoji unicode symbols sequence
- RATIONALE?: optional description
- [DEFAULT]?: optional flag to indicate preference when there are multiple symbols mapped to the same word 
- [OVERRIDE]?: optional flag which asserts that the mapping is semantically final and intentional. Override Enforcement:

    - Any line or definition marked [OVERRIDE] is semantically final.
    - Automated or manual reviews MUST ignore meaning, symbol choice, or mapping debates for those entries.
    - Only the following checks may still apply:
        * Structural integrity: token spacing, normalization, Unicode validity.
        * File consistency: duplicates, formatting, or syntax errors.
    - Review tools and validators MUST detect [OVERRIDE] tags and suppress all semantic warnings for those lines.
- SPACERET: two spaces so markdown renders properly the newline (we use this solution here only to minimize visual clutter, in general avoid phantom spaces)
- [ARROW] to track arrows usage. 

    - `setting=formal`: Humans tend to confuse arrows, so paradoxically in this setting the range of used arrows is strictly limited, _even if this makes the disambiguation job harder_. 
    - `setting=natural` a wide range of arrows MAY appear; encoders and decoders MAY silently rewrite them into the canonical forms listed below.
    
    The same ASCII arrows are therefore context-dependent and overloaded.
    
    Resolution MUST always follow the active setting and the local syntactic context.
    
    1. `setting=natural`

        <-> : link
        â†¶<-> : linked 
        â‡— <-> : will link

    2. `setting=formal`, Graph theoretic context, A and B nodes / instances / types:

        <-> = link    bidirectional graph edge 
        A -> B = forward link directed graph edge from A to B  
        A <- B = backward link directed graph edge from B to A

    3. `setting=formal`, specs - see [Assertions](#Assertions) 

          A -> B  = translates to  
          A <- B  = translates from 
          ==      = equality (as usual) 

    4. `setting=formal`, functional programming 
    
      TODO EXPLAIN BETTER WHEN WE ACTUALLY USE THEM

      - function 

             f(p:ì›ƒ^) -> ğŸ ^ :                # typing meaning in signature 
                ì›ƒ_3 -> {ğŸ _5}                # match -> rewrite meaning in body
                ì›ƒ[surname="Verdi"] -> {ğŸ _7}
                _ ->  {}         
      
    5. `setting=formal`, <- is the standard Datalog logical entailment arrow.
    
      TODO EXPLAIN BETTER WHEN WE ACTUALLY USE THEM 

          Q(A, C) <- R(A,B), R(B, C), .... : unifies A,B,C, deduces Q(A, C)  

### Assertions

Assertions are in the format STRING1 OPERATOR STRING2, where OPERATOR can be ==, <-, ->

STRING1 SHOULD be a SYMBOLS string, STRING2 a NATURAL_LANGUAGE string of corresponding meaning. In some occasions they MAY be swapped.

SYMBOLS -> NATURAL_LANGUAGE   : encode(SYMBOLS) SHOULD be equal to MEANING

SYMBOLS <- NATURAL_LANGUAGE   : decode(MEANING) SHOULD be equal to SYMBOLS

SYMBOLS == NATURAL_LANGUAGE   :

- encode(SYMBOLS) SHOULD be equal to NATURAL_LANGUAGE
- decode(NATURAL_LANGUAGE) SHOULD be equal to SYMBOLS
 
- We used SHOULD and not MUST because Pictoji is a non-deterministic system.
- We can only try to maximize the expectation conversion succeeds the way we want.
- Still, assertions in the specs and picoland-test.md SHOULD always succeed when executed by ChatGPT5 having ONLY the specs as context. If they don't, flag them. 



## Vocabulary building principles

- **General principle**: prefer clarity over compression.
- **Name conflicts**: If a symbol choice risks confusion with its Unicode name, choose another even if longer.
- **Abstract vs concrete**: abstract symbols (math operators, arrows, etc) are considered safe for abstract meanings, emojis are used for concrete objects, actions, or emotions.
- **Character sets**: If no emoji/math symbol exists, search in Greek, Cyrillic, CJK, Arabic, Devanagari, etc. and pick something with a close English name or, as fallback, a visual representation that reminds the intended meaning even if native meaning diverges (especially if selected from a set not spoken/understood by many people).
- **Ambiguity avoidance**: If a concept collides with another (e.g., ğŸ“ as "place" vs "where"), prefer an unambiguous alternative (âŒ– for place, ğŸ“ only for where).
- **Frequency priority**: 
    - Follow COCA model. 
    - Define HIGH_FREQ_WORDS as the first 200 highest frequency words 
    - For very frequent English words (be, have, do, will, etc.), allow assigning a symbol even if its Unicode name does not match literally, to avoid verbose expressions.


### Modifiers

- â†¶ attaches to verbs or auxiliaries to mark past.
- â†» attaches to âŸ¡ to mark progressive.
- â†» attaches to any verb (not only "be") to mark progressive aspect ("-ing" form: doing, going, working, etc.).
- Â¬ attaches to auxiliaries to mark negation.
- Comparison uses â–² / â–¼ as prefixes.
- Plural is represented by duplication of the noun glyph (ğŸ  -> ğŸ ğŸ ).
- **Opposites**: Given a SYMBOL (e.g. ğŸ™‚), when there is an obvious candidate for the opposite, choose that one (e.g. ğŸ™). Otherwise write Â¬SYMBOL without spaces.


#### Special handling of "be"

âŸ¡ = be in all forms. Always explicit:  
â†¶âŸ¡ = was  
â†»âŸ¡ = being  
âŠ¸ â†¶âŸ¡ = have been  


## Architecture

User input is processed according to this workflow:

```mermaid
%%{init: {
  "themeVariables": {
    "fontSize": "40px"
  }
}}%%
flowchart LR

0[Db <br> preloader]
1[Term <br> rewriter]
2[Constraint <br>solver] 
3[Db <br>fetcher]
4[Sampler<br> &nbsp;]
5[Text <br> generator]

0 --> 1 --> 2 --> 3 --> 4 --> 5

```

0. DB preloader
    - input: 
        - Conversation context
        - Optional external KB world
    - output:
        - Schema ê•· types (ì›ƒ^, ğŸ¶^, ..) and binary relations ( e.g. Owns[(ì›ƒ^, ğŸ¶^),P] )
        - Database ÆŠ = ğ”˜[ê•·] = a_0 â˜‰^0 + a_1 â˜‰^1 + a_2 + â˜‰^2 + a_3 + â˜‰^3 + ... + â˜‰^n
    - from now on, every object â˜‰_i is either:
        - from this preloaded ÆŠ   TODO maybe find better way to extract grade 1 stuff
        - newly sampled and appended to it

1. Term rewriter: defines space 
    - input: Pictoji 'algebra of meaning' expression + mode
    - output: formal space of possible worlds and queries. TODO
2. Constraint solver (if needed)
    - input:  TODO
    - output: TODO
3. DB fetcher with unification
    - input: TODO
    - output: TODO
4. Sampler 
    - input: TODO
    - output: TODO (with Analytic Combinatorics / Boltzmann sampling)
5. Text generator
    - input: TODO
    - output: TODO - we leave AI, most models are very good at the job.


## Database

**Goal**: Pictoji specs need an ergonomic, down-to-earth functional programming oriented query model with formal semantics to act as a 'sanity check'. Db performance currently does not matter.


**GEL / EdgeDb** as in [Sullivan et al - Querying Graph-Relational Data](https://arxiv.org/abs/2507.16089) seems to fit the bill, BUT:

- Pictoji surface query syntax is **not** GEL syntax 
- GEL only works with Postgres, which is **not** necessarily the ideal db (would probably fail with Wikidata-style loads). 
- Still, as a sanity check Pictoji MUST be translatable to GEL. If we wanted to go operational, we realistically could:

    1. try loading some relations into GEL / Postgres with few toy examples
    2. try [OneSparse](https://onesparse.com/docs.html) Postgre extension which brings GraphBLAS matrix semiring features into Postgres, hopefully it should at least guarantee some fast million-range nodes manipulation and fit real well our network model. Unfortunately, GEL doesn't support that extension but I guess it would be possible to use it with some SQL escape hatch.

**Further considerations:**

- If db/schema are not explicitly provided, they will be inferred and materialized on request by the AI. As methodology for materialization, species theory / Boltzmann sampling are chosen as they seem algebrically close to Pictoji polynomial system. TODO ELABORATE LATER.
- Links by default are assumed to have a backlink, so for exploration purposes the network is to be considered undirected.  
- For the sake of simplicity we currently adopt the the model of crisp edges fully knowing it's brittle and unworkable. Fuzzyness is much desirable but will be defined at later stage. 


## Algebra of meaning

 **Goal:** Define an algebra which can actually _feel_ natural for a casual, non-CS graduate user. 
 - the underlying model is relational / vector based, at STEM high-school students level
 - still, the algebra MUST be accessible to middle-school students (simple polynomials, reasoning about simple numeric quantities) by synctactic sugaring / different interpretation modes.
 - graduate users SHOULD be able with some effort of their own to formulate optimization problems via semiring matrices
 
**Assumptions**:  To follow the examples, assume:

- ì›ƒ is a query as a finite set  of people in the default db
- ì›ƒ^ is the type space of people (possibly very large but still finite)
- ì›ƒ âŠ† ì›ƒ^
- we have several instances ì›ƒ_i âˆˆ ì›ƒ known to be in the DB 
- we can sample further instances ì›ƒ_n+i âˆˆ ì›ƒ^ not in the DB (yet)


### Term Rewriter

The term rewriter is divided in two levels, each with different operator / syntax access:

```mermaid
block
    columns 3
      L["<b>Level</b>"]
      OP["<b>Operators</b>"]
      D["<b>Synctax</b>"]
    columns 3
      U["<b>User</b><br>"] 
      UOPS["->"]
      UD["sugared"]
    columns 3
      E["<b>Kernel</b>"] 
      EOPS["-><br>k->"]
      ED["can desugar"]
```


  - `->` regular transformation, can be applied while in user surface or query engine.
  - `k->` only to be applied in the internal query kernel, users cannot invoke it  TODO find better symbol




### Numbers

In general, the following is allowed: 0â€“9 as cardinals; 0.123... as decimals; `Â°` as a postfix for ordinals, scientific notation.

- **Numeric token**: a number is a single token matching `-?[0-9]+(\.[0-9]+)?([eE][-+]?[0-9]+)?`
    - Leading zero allowed (0.5), bare .5 disallowed (write 0.5).
    - Minus is ASCII - only (no en/em dashes).
- **Decimal separator**: ASCII `.` inside numeric tokens only. Do not use `,`
- **Grouping separators**: thousands/grouping are not allowed (no 1,000 or 1 000).
- **Ordinals**: Â° may follow numbers.
- **Scientific notation**: permitted for numbers using ASCII "e"
    - Examples: 6.02e23, 1e7, -5e-2
    - In plain text, no space may appear inside numeric tokens.




### Types

All data structures are immutable, functional programming style.

- SYMBOL^ : type/class of SYMBOL, equivalent to typographical capitalization. Example:

    ì›ƒ^ = Person  
    ì›ƒ^ Â¬= ì›ƒ^1      ì›ƒ^ is a type, not a query - a bit weird synctactic choice I know but don't worry too much

- SYMBOL^^ : generic or empathic, equivalent to typographical all-caps. Example: ì›ƒ^^	= PERSON

#### Properties and values

â‹ = property
á•“ = value


### Symbols, variables, queries

Symbols can have several meanings depending on the context:

- glyph (á›¤) 
- meaning-carrying symbol:
  - query (ì›ƒ)  [DEFAULT]
  - instance (ã‹¡ = John)
  - constant (Ï€)

Form: 

    SYMBOL INTYPE?

where:
||||
|-|-|-|
|INTYPE  | [":" / âˆˆ] TYPE_EXPR   | optional, `:` is typically used in function declarations / coding, while `âˆˆ` in set-theoretic / general math-oriented contexts
|TYPE_EXPR|| a type expression, typically like SYMBOL^ 

Let's see disambiguation rules.

#### Glyph symbols

When given something underspecified like á›¤ (think of _x_ in math ):

f(á›¤) = 1 + á›¤ + á›¤^2

the interpreter may infer or enquire the user about the type of á›¤ to make the type explicit, e.g.:

f(á›¤:â„•) = 1 + á›¤ + á›¤^2

#### Query symbols

A query is typically written directly with a single meaning-carrying symbol representing its type. 

For example, when ì›ƒ is first typed, these statements are implied and equivalent :

- ì›ƒ is a person query from the `Person` class/type universe (notice the capital P)
- ì›ƒ âˆˆ 2^(ì›ƒ^)
- ì›ƒ âŠ† ì›ƒ^  [DEFAULT]   we normally consider vectors as in relation algebra 
- ì›ƒ is an autoboxed instance  ì›ƒ_i âˆˆ ì›ƒ^ IF the context assumes a simplified "middle school" algebra view

#### Instance and subscript symbols

Subscripts are explicitly allowed, typically to distinguish instances:

Form: SYMBOL_EXPR

- subscript by default implies belonging to the type:  ì›ƒâ‚ â‡’ ì›ƒâ‚ âˆˆ ì›ƒ^ 
- a subscript denotes an instance, i.e. ì›ƒâ‚ = Alice   

EXPR is typically a number, or even a character:

ì›ƒ_1  ì›ƒ_2  ì›ƒ_a  ì›ƒ_b  ì›ƒ_i ì›ƒ_j    

Subscripts can be expressed directly if there is a subscript unicode character (note unicode standard doesn't currently support all common letters, i.e. "b" is missing):

ì›ƒâ‚ ì›ƒâ‚‚ ì›ƒâ‚ ì›ƒáµ¢ ì›ƒâ±¼

Non-query instances can be specifically defined:

ã‹¡ = John 
ã‹¡ : ì›ƒ^  ->  a person instance ã‹¡ of type ì›ƒ^ ...
ã‹¡ âˆˆ ì›ƒ^ ->  an element ã‹¡ belonging to set ì›ƒ^ ...   

If a formal definition is not present, it SHOULD be automatically derived from the English context ()"John is strolling down the road ...")

#### Constant symbols

Widely known constants like Ï€ SHOULD be automatically recognized depending on context without further asking.

### Sets

A set is an unordered heterogenous collection of arbitrary elements.
Universe sets can be infinite, DB sets are always finite. 

Form: {EXPR1, EXPR2, ... }

à®ƒ = set  same ambiguity with English with the verb 'to set'  
{} = empty set  
à®ƒ^ = Set
 
âˆ… = empty / empty set

2^S = powerset of S     
- Never use â„˜ symbol
- In user facing expressions, prefer âŠ† expressions, e.g. ì›ƒ âŠ† ì›ƒ^ instead of ì›ƒ âˆˆ 2^ì›ƒ^
- Never use the 'set of functions S -> {0,1}' semantics
- TODO write about cardinality with | |


â— = full  
âŠš = none     determiner / clausal negation clash with no, none [OVERRIDE]  
â—” = some  
â—• = most



- A type is also a set of that type:
  
      à®ƒ^[T] = Set[T]    T is a generic type

      à®ƒ^[ì›ƒ^] -> ì›ƒ^     The Set of all persons (showing reduction to prevent loops)
                         ì›ƒ^ is the canonical form of à®ƒ^[ì›ƒ^]

- Queries structurally are sets:

      ì›ƒ = ì›ƒ^1 = person 'query'   
      ì›ƒ âŠ† ì›ƒ^  
      ì›ƒ âˆˆ 2^(ì›ƒ^)     ì›ƒ query is a finite subset of the Person universe
      ì›ƒ Â¬âˆˆ ì›ƒ
      
      Query indexing starts from 1:

      ì›ƒ[1] = "First result from person query, e.g. Alice."
      ì›ƒ[1] âˆˆ ì›ƒ          
      
      Query indexed results are (generally) different from subscripted type instances:

      ì›ƒ[1] Â¬= ì›ƒ_1  


- The empty set `{}` can be a member of a set only if that set explicitly contains it:

      âˆ… âˆˆ {ì›ƒ, âˆ…, ğŸ }

      âˆ… Â¬âˆˆ {ì›ƒ, ğŸ }

- the empty set is always a subset of every set:

      {} âŠ† à®ƒ^
      {} âŠ† à®ƒ  

      {} âŠ† {}  

      {} âŠ† {ì›ƒ, ğŸ }  


- Sets are heterogenous:


      ì›ƒ âˆˆ à®ƒ^  
      
      ğŸ  âˆˆ à®ƒ^  
      
      ì›ƒ âˆˆ {ì›ƒ, ğŸ }  


- Generics support: collections (hence sets) can be optionally typed via the list `[]` operator: 
    <!-- avoided <> to prevent clash with markdown, 
     () to prevent confusion with power exprs. 
     Also, [] is used by Python generics      -->

      {ì›ƒ_1, ì›ƒ_2} : à®ƒ^[ì›ƒ^]

      ì›ƒ_1 âˆˆ à®ƒ^[ì›ƒ^]

      ì›ƒ_1 Â¬âˆˆ à®ƒ^[ğŸ ^]

      {[ì›ƒ_1, ì›ƒ_2], [ì›ƒ_1, ì›ƒ_4], [ì›ƒ_3, ì›ƒ_2] } : à®ƒ^[ì›ƒ^,ì›ƒ^]

      Form:  SYMBOL^[TYPE1, TYPE2, ...]

#### Cartesian product

ì›ƒ^ ğŸ¬ ì›ƒ^ = cartesian product (also known as cross-product)
ì›ƒ^ ğŸ¬ ì›ƒ^ ğŸ¬ ì›ƒ^ ğŸ¬ .... = ì›ƒ^ ğŸ¬ğŸ¬ n     TODO maybe not needed, keep here for reference 

(ì›ƒ_1, ì›ƒ_2)  âˆˆ  ì›ƒ^ ğŸ¬ ì›ƒ^     tuple belongs to cartesian product

#### Set Union

Union puts together sets of possibly different types in the usual mathematical way:

    {ì›ƒâ‚, ğŸ â‚, ğŸ â‚‚} â‹ƒ {ì›ƒâ‚, ì›ƒâ‚‚} -> {ì›ƒâ‚, ì›ƒâ‚‚, ğŸ â‚, ğŸ â‚‚}


Notice this is different from _merging_ â’ TODO EXPLAIN BETTER.

- **autoboxing**: any symbol of type T may be used where a Set[T] is expected; it is implicitly boxed into a singleton set.

      ì›ƒâ‚  â‹ƒ  ì›ƒâ‚‚ ->  {ì›ƒâ‚, ì›ƒâ‚‚}

      ì›ƒ^ â‹ƒ ğŸ ^ -> {ì›ƒâ‚, ì›ƒâ‚‚, ..., ğŸ â‚, ğŸ â‚‚, ...}

### Tuples

ê™Œ = tuple     (CyrillicExtB)
ê™Œ^ = Tuple    ordered, finite, fixed size, immutable, generally not append friendly
() = empty tuple
ê™Œ^[ì›ƒ^, ğŸ¶^, ğŸ ^] = Tuple[Person, Dog, House]


### Lists
 
Form: [EXPR1, EXPR2, ...]

We use 'List' name in the functional programming acception

âš = list
âš^ = List type       ordered, heterogenous, finite, variable size, immutable, append friendly
[] = empty list
âš^[ì›ƒ^] = List[Person]  Can be optionally typed with generics.

à®ƒ^[âš^[ì›ƒ^,ğŸ¶^]] = Set[List[Person,Dog]]   # in pictoji list is immutable, can insert it in a set


### Addition

Addition is interpreted as regular algebraic addition. 

- addition is **not** a 'semantic merging', for that we envision the operator â’ TODO REFERENCE


### Multiplication

In general, multiplication can be written with a space: 

    2 ğŸ 

    ì›ƒ ğŸ 

or explicitly with an asterisk`*`:  

    ğŸ¶ * ğŸ 

#### Multiplication by a scalar

`setting=natural`: Quantified plurals are written with explicit spacing: "two houses" -> 2 ğŸ ğŸ 


`setting=formal`: In expressions intended for symbolic manipulation, spacing MAY be omitted and multiplicity expressed as a coefficient: "two houses" -> 2ğŸ 

å±± âŸ¡ ğŸ  + ğŸ  ?

Expected evaluation:

2ğŸ 

### Pluralization

- pluralities are sets:

    * Possibly very large:

        ì›ƒì›ƒ =  {ì›ƒâ‚, ì›ƒâ‚‚, ì›ƒâ‚ƒ, ... , ì›ƒ_n }

    * Explicit count with integer coefficient:

        2ì›ƒ q-> {ì›ƒ_i, ì›ƒ_j | i Â¬= j}
    
    * Fractional coefficient

        0.2ì›ƒ -> interpretation is setting dependent


### Power hierarchy

Depending on the context, a symbol S may represent a typical math variable (like a real number _x_), or a semantic meaning (like ì›ƒ). Regular math is dealt with by the AI interpreter the usual way, here we only specify behaviour when S represents semantic meaning. In this case, given the rules:

    S S = S * S = S*S = S^2 = SÂ²
    S^n S^m = S^(n+m)

Examples:

    ğŸ  ğŸ  = ğŸ  * ğŸ  = ğŸ *ğŸ  = ğŸ ^2 = ğŸ Â²
    ğŸ  ğŸ ^2 = ğŸ ^3 = ğŸ Â³

- S is not an indeterminate but a symbol domain - i.e., a set, relation, 3-levels hierarchy, etc
- Powers of a base symbol (SÂ², SÂ³, â€¦) denote self-composition: the symbol operating on or assembling copies of itself. The resulting form is a network, cluster, or recursive instance of the base type: the meaning of the whole derives from the relations among the instances of the base type. Think of it as a system of systems.

Examples:

    ì›ƒÂ¹ = ì›ƒ = person  
    ì›ƒÂ² = network of ì›ƒ, crowd, people  
    ì›ƒÂ³ = society  

    ì›ƒÂ² Â¬= ğŸ’ª ì›ƒ  

    ì›ƒ^ ğŸ¬ ì›ƒ^ = Person ğŸ¬ Person     Cartesian product of Person type

#### Rules

- `â°â€“â¹` single superscripts: for hierarchy or scaling. 
- `SYMBOL^N`: for numbers > 9    Example: ì›ƒ^42
- `SYMBOL^(EXPR)`: for expressions, use round parenthesis. Example: ì›ƒ^(1 + 2)
- **Form selection**: Use duplication or superscripts for scale. Replace with dedicated Unicode pictograms if available. 
- **Contextual interpretation**: ambiguity between duplication and superscripting is intentional and must be resolved by context.

  - In `context=natural`, ğŸ ğŸ  means "houses"
  - In `context=formal`, the same form MUST NOT be evaluated as ğŸ Â²

- **No aggregation by scale**: simply summing many instances of the same power SHOULD NOT automatically scale to a higher power unless further reasons are provided. TODO may be workable for now, but to reconsider in the future.

    Example:  ì›ƒâ‚ + ì›ƒâ‚‚ + ì›ƒâ‚ƒ Â¬= ì›ƒÂ² 
- Parenthesization is by default right-to-left:  ì›ƒ ì›ƒ ì›ƒ -> ì›ƒ (ì›ƒ ì›ƒ)


#### Powers as sets

Powers can be interpreted as possibly very large sets of relations augmented with a domain and codomain:

TODO (minor) using â‚“ (letter x) as subscript is a stretch

```
ì›ƒ^2 ~ {ì›ƒâ‚â‚“â‚, ì›ƒâ‚â‚“â‚‚, ì›ƒâ‚â‚“â‚ƒ, ..., ì›ƒâ‚‚â‚“â‚, ì›ƒâ‚‚â‚“â‚‚, ì›ƒâ‚‚â‚“â‚ƒ, ..., ì›ƒâ‚ƒâ‚“â‚, ...}

ì›ƒ^3 ~ {ì›ƒâ‚â‚“â‚, ì›ƒâ‚â‚“â‚â‚“â‚‚, ì›ƒâ‚â‚“â‚â‚“â‚ƒ, ì›ƒâ‚â‚“â‚â‚“â‚„ ..., ì›ƒâ‚â‚“â‚‚â‚“â‚, ì›ƒâ‚â‚“â‚‚â‚“â‚‚, ì›ƒâ‚â‚“â‚‚â‚“â‚ƒ, ì›ƒâ‚â‚“â‚‚â‚“â‚„, ... }  
```


#### Powers Interpretation

Varies according to the context:

- `role=creative`: a group of S to relate in some way in a creative way depending on the context. 
- `role=technician`: a query in a network db. 
- `role=phd`: Pictoji algebra is inspired by Gunther Schmidt's Relational Mathematics work, Analytic Combinatorics and Boltzmann samplers, but uses a simplified network terminology. We now give more precise definitions.

We start here with two-levels theoritical framework mainly to mark a clear distinction line between infinite entities and the finite default database. Unless otherwise specified the specs at this dev stage are only meant to work in a finite database . 

|Symbol| var   |Polynomial | Description         |                                   | 
|------|-------|-----------|---------------------|-----------------------------------|
|   ğ”˜^ | ğŸ”¹^   |           |Universe type        |    infinite, unmanageable         |
|   ğ”˜  | ğŸ”¹    | P(ğŸ”¹)     |universe as a polynomial  |   infinite, unmanageable     |
|   ÆŠ^ | â˜‰^   |            |Database type        |  finite but possibly unmanageably large     |
|   ÆŠ  | â˜‰    | P(â˜‰)      |default database as a polynomial     |  finite (possibly 'big data' size)  | 

##### Infinite Universe

ğŸ”¹ =  `setting=natural`: it   [DEFAULT] 
      `setting=formal`: possibly _infinite_ query from _distinct entities_ available in the universe

ğŸ”¹ğŸ”¹ =  entities

2ğŸ”¹ = {ğŸ”¹_i, ğŸ”¹_j | i Â¬= j} = pair

Entity ğŸ”¹ has an infinite number of properties and links

ğŸ”¹^ = `setting=natural`: entities of the universe   
      `setting=formal`: _infinite_ set of  _distinct entities_ available in the universe
ğŸ”¹^ = â„• 

ğŸ”¹ âŠ† ğŸ”¹^

ğŸ”¹^ X ğŸ”¹^ = ğŸ”¹^ XX 2 = infinite set of distinct _links_ between universe _entities_  
ğŸ”¹^ XX n = infinite set of distinct n-1 length paths between universe _entities_

ğ”˜^ = Universe = ğŸ”¹^ XX 0 âŠ” ğŸ”¹^ XX 1 âŠ” ğŸ”¹^ XX 2 âŠ” ğŸ”¹^ XX 3 + .... = Set of universes, max grade is infinite â„•.

ğ”˜ = universe = P(ğŸ”¹) = universe instance as infinite collection of infinite  graded queries =  a_0 ğŸ”¹^0 + a_1 ğŸ”¹^1 + a_2 + ğŸ”¹^2 + a_3 + ğŸ”¹^3 + ... 

##### Finite database


â˜‰^ = `setting=natural`: objects of the default database   
      `setting=formal`: _finite_ set of  _distinct objects_ available in the database

â˜‰^ X â˜‰^ = â˜‰^ XX 2 = finite set of distinct _links_ between database _objects_
â˜‰^ XX n = finite set of distinct n-1 length paths between database _objects_

â˜‰ = `setting=natural`: object    `setting=formal`: finite_ (but possibly very large) query in the default database


â˜‰^ âŠ‚ ğŸ”¹^    # finite objects   (circle recalls finiteness)
â˜‰ has a finite number of properties and links

â˜‰ âŠ† â˜‰^

â˜‰^2 = finite set of links in the database (edges in a network) 
â˜‰^2 âŠ† â˜‰^ X â˜‰^
â˜‰^n = finite set of distinct n-1 length paths (ob1 link ob2 link ob3 ... ) in the database, can be constructed by iterative application of â˜‰^(n-1) â˜‰
â˜‰^n âŠ† â˜‰^ XX n  


ê•· = the finite schema of default database, specifies the relations and max grade n < â„•
ÆŠ = ğ”˜[ê•·] = a_0 â˜‰^0 + a_1 â˜‰^1 + a_2 + â˜‰^2 + a_3 + â˜‰^3 + ... + â˜‰^n
`setting=natural`: database   `setting=formal`: finite collection of finite graded sets of paths filtered by schema ê•·

ÆŠ^ = ğ”˜^[ê•·] = â˜‰^ XX 0 âŠ” â˜‰^ XX 1 âŠ” â˜‰^ XX 2 âŠ” â˜‰^ XX 3 + ... + â˜‰^ XX n   # TODO DOES IT MAKE SENSE? WE SHOULD DEFINE FILTERING BY SCHEMA


### Filtering queries

We follow the dataframe approach of filtering in square brackets.

Form:  SYMBOL[FILTER^[Bool] | TYPE]  

#### Filter by type

q[T] = {x | x^ == q^ âˆ§ x^ is a subtype of T}

â˜‰[ì›ƒ^] == ì›ƒ

#### Filter by property

- every var V in expr MUST: 
    - be a property defined in SYMBOL^ type
    <!-- be written â‹V to denoute being unbound...  TODO not needed now -->

Example:

```
á›  ì›ƒ^:           
    name : str
    age  : str
    
â˜‰[name = "John"]   # people named "John"
```

`AND`: conjunction can be expresseed in several ways:

E.g. "people named John AND aged 20"

â˜‰[name = "John" âˆ§ age = 20]      [DEFAULT]   
â˜‰[name = "John"] â‹‚ â˜‰[age = 20]    
â˜‰[name = "John"][age = 20]    

`OR`: union can be expresseed in several ways:

E.g.  "people named John OR aged 20"

    â˜‰[name = "John" âˆ¨ age = 20]       
    â˜‰[name = "John"] â‹ƒ â˜‰[age = 20]  
      
### Objects 

- Each object `obj_i` is indexed at variable placeholder i âˆˆ â„•
- There are no apriori specified ordering criteria. Some subsets of objects may be subject to (partial) order depending on the context.
- These functions on objects are defined:

    id(obj : â˜‰^) : â„•          function from an object to its id _i_

    obj(id : â„•) : â˜‰^          function from an id to an object

In algebra of meaning, typically these objects are not manipulated directly, rather are wrapped in sets, relations, etc.

### Relation algebra

- Algebra elements and meaning-carrying variables are represented as n-ary relations R: T1 X T2 X ... X Tn

- Groups are born out of the reachability of their nodes, they are _not_ 'mandated from above'

- Distribution weight / density of relations is implicitly indicated by parenthisation. **Examples:**

    - ì›ƒ^2 produces a relation expressed as a set of 2 elements tuple

    - ì›ƒ^3 -> ì›ƒ (ì›ƒ ì›ƒ) ->  produces a hierarchy expressed as a set of 3-tuples, you can view it as a network where people high in the hierarchy have few links to more tightly knit groups at the bottom. This is not a hypergraph, there are no "links to groups" per se, only links between person instances - the groups would be an emergent phenomena revealed by clustering algorithms. Used relation names for the links might vary between levels, or even among the same level.   

### Binary relations

To actually perform calculations, bidimensional relations are embodied in **sparse** matrices R^[(S,T),P] with sources in S, targets in T, and property values of type P U {_^[P]}. To make the algebra work, they all have very large so-called 'super domain and codomain'. Very often we will restrict â˜‰^ to subsets which we will simply just call the `domain` and `codomain`. 

- open world assumption: we do not know whether or not items are present in a relation, so by default we assume matrix cells are set to `_^[ğ”¹]` (unknown) - since the matrix is sparse, there is no need to set everything at initialization. 
- vertex domain: â˜‰^
- constraints:  
    - sources âŠ† â˜‰^ (finite)
    - targets âŠ† â˜‰^  (finite)
    - {R[â˜‰_i, â˜‰_j] âˆˆ T U {_^[T]} | â˜‰_i, â˜‰_j âˆˆ â˜‰^}
- For simplicity, we assume for now T is boolean ğ”¹; we will model more complex scenarios in later iterations following the generalizations introduced by the works on semiring dioids by Gondran and Minoux TODO reference, where we could model T as reals â„ or maybe purely finite representations with rationals in â„š. 

Take variable `ì›ƒ^2` as example, in this case it would have signature R^[ì›ƒ^, ì›ƒ^, ğ”¹ U {_^[ğ”¹]}]

TODO what about the name of rows/columns of non-zero cells?



R[x,y]: the value of the cell at x,y indeces. By default return _^[T]

â–¢ : empty relation      U+25A2 WHITE SQUARE WITH ROUNDED CORNERS
- sources: â˜‰^
- targets: â˜‰^
- constraints:  { (â˜‰_i, â˜‰_j) = â’» }
 
â–‡ : universal known relation  U+2587 UPPER SEVEN EIGHTHS BLOCK
- sources: â˜‰^
- targets: â˜‰^
- constraints:  { (â˜‰_i, â˜‰_j) = â“‰  }

?â–‡ : universal unknown relation  U+2587 UPPER SEVEN EIGHTHS BLOCK   TODO '?' or '_' or what ??
- sources: â˜‰^
- targets: â˜‰^
- constraints:  { (â˜‰_i, â˜‰_j) = _ }


â–¢[ì›ƒ^, ğŸ ^] : empty relation restricted to person type ì›ƒ^ and house type ğŸ ^ 
- sources: ì›ƒ^
- targets: ğŸ ^
- constraints:  { (ì›ƒ_i, ğŸ _j) = â’»  }

â–‡[ì›ƒ^, ğŸ ^] : universal relation restricted to person type ì›ƒ^, ğŸ ^
- sources: ì›ƒ^
- targets: ğŸ ^
- constraints:  { (ì›ƒ_i, ğŸ _j) = â’» }

I: identity matrix   # TODO even if grade 2, this looks quite like the grade â˜‰^0 = 1 of our algebra 
- sources: â˜‰^
- targets: â˜‰^
- constraints:  { (â˜‰_i, â˜‰_i) = â“‰ | â˜‰_i âˆˆ â˜‰^ }

I[ì›ƒ^]: identity matrix filtered to person type ì›ƒ^
- sources: ì›ƒ^
- targets: ì›ƒ^
- constraints:  { (ì›ƒ_i, ì›ƒ_i) = â“‰ } U {(â˜‰_i, â˜‰_j) = â’» | i Â¬= j}

ì›ƒ: a person query in the db
- sources: ì›ƒ^
- targets: ì›ƒ^
- constraints:  {(ì›ƒ_i, ì›ƒ_i) = â“‰ | ì›ƒ_i âˆˆ â˜‰} U {(ì›ƒ_i, ì›ƒ_j) = â’» | i Â¬= j}

ì›ƒ_k: atom identity
- sources: ì›ƒ^
- targets: ì›ƒ^
- constraints: {(ì›ƒ_k, ì›ƒ_k) = â“‰} U {(ì›ƒ_i, ì›ƒ_j) = â’» | Â¬(i = k AND j = k)}


Suppose we have an expression like 

    1 + ì›ƒ + ì›ƒ^2

with integers coefficients. We could call the terms:

1: ì›ƒ^0: the essence of a person, with the restricted identity matrix I_ì›ƒ as underlying representation. 

ì›ƒ : an individual person, with the identity atom as underlying representation:
- sources: ì›ƒ^
- targets: ì›ƒ^
- constraints: only one cell (i,i) set to â“‰, where i is the particular person index. Others are â’».

ì›ƒ^2 : a group of persons with some relation between them, formally representable as a matrix:
- sources: ì›ƒ^
- targets: ì›ƒ^
- constraints: none, although most of the time we can assume the number of relations |ì›ƒ^2| > 0

    Important: ì›ƒ^2 should _not_ be interpreted as the identity atom ì›ƒ_i multiplied by itself (under strict relational composition calculation that would yeald again ì›ƒ_i).


ì›ƒ_1 âˆˆ sources(ì›ƒ^2)  -> Does person instance ì›ƒ_1 belongs to sources(ì›ƒ^2) = ì›ƒ^  ?

ì›ƒ_1 âˆˆ ì›ƒ^  -> is a particular person instance ì›ƒ_1 a person?



### Functions

Typing: (ì›ƒ^,ğŸ¶^) -> ğŸ ^ = Function[[Person, Dog], House]
    
f(ì›ƒ,ğŸ¶)  # a function call

Let's consider this example:

f(ì›ƒ) = 1 + ì›ƒ + ì›ƒ^2

The whole expression has to be meant as _symbolic_, so not to be immediately reduced, you can think of it as a formal power series.

f(ì›ƒ) : "a function of a person"

f(ì›ƒ^)   ->  function _f_ over explicit `Person` type (not instance call) TODO better specify

##### Instantiation

If we provided _a specific_ person like this:

```
f(ì›ƒ : ì›ƒ^) = 1 + ì›ƒ + ì›ƒ^2    # definition

Alice : ì›ƒ^ = ì›ƒ^("Alice", 6, "Wonderland", ...)  # var declaration

print(  f(Alice)  )     # call
```

the substitution would lead to this autoboxed rewrite of f:

```
f({Alice} : 2^ì›ƒ^) = 1 + {Alice} + {Alice}^2 
```

with the following meaning:

* `f(Alice)` : function call with Alice as parameter
* `Alice`    : the person Alice
* `Alice^2`  : Alice squared, notice this time we don't have a network of people, but something related to Alice herself (whatever it might be..)

### Operations on relations


    sources(R : Rel) : D 

Given a relation R, returns all the nodes with outgoing edges, formally  {x | âˆƒx: (x,y) in R}
  
    targets(R : Rel) : S

given a relation R, returns all the nodes with incoming edges, formally  {x | âˆƒy: (x,y) in R}


### Relation structure operations

These operations ignore link properties and produce a `Set^[(U, U)]`

* chain R1 ğŸ”— R2: Connects matching keys (x,z) (z,y) by chaining along shared objects to produce (x,y).

* join R1 â¨ R2: Connects matching keys (x,z) (z,y) by chaining along a shared objects to produce (x,z), (z,y) and (x,y)

* `union R1 â‹ƒ R2`: structural union by merging link sets (logical OR of supports). 

* `intersect R1 â‹‚ S2: structural intersection by keeping common links (logical AND of supports).   

* remove R1 âˆ– R2: structural difference  removes links present in the second relation (doesn't consider the values). R âˆ– S = supp(R) âˆ– supp(S)

* identity I: identity relation ( I = {(x,x)} ); self-mapping on a domain.


#### Link properties operations

* filter(R[rows, cols]): restricts by row/column keys (domain or codomain) TODO syntax

* flip(Ráª): flips along the diagonal, swapping source and target
Ráª = {R[y,x] | (x,y) in R} 

* complement Râ´: applies a value-level inverse (arithmetic negation, logical NOT, or complement).

* merge R1 â’ R2: merges two relations on overlapping links using a chosen rule (e.g., max, sum, or custom merge function). Eventually we will develop an operator which performs a semantic sum, such that e.g.

    ```
    ì›ƒ_1 â’ ì›ƒ_2  -> ì›ƒ_1,2  a synthetic singular ("the two together")
    ```

    This operation for now is left vountarily underspecified and presented here only to define a symbol representation different from regular `+`

* merge v1 â’ v2 : merges two semiring property values using a chosen rule (e.g., max, sum, or custom merge function). 

* compose R1 â R2 : composes relations along a match (semiring-style "multiplyâ€“accumulate" operation).

* compose v1 â v2 : composes two semiring values

* subtract R âŠŸ S : value difference R[x,y] âŠŸ S[x,y] (if both defined, else R)

* map()` / `apply() : applies a unary transformation to each value (e.g., scale, normalize, threshold).

* zero â“ª^[P]` / `one â‘ ^[P] : typed identity elements of the value algebra; "empty" and "neutral" values.

* aggregate() : folds values across an axis using the value-combine rule (sum, max, count, etc.).


### Multiplication by different symbol

Multiplying two different symbols â€” e.g. ì›ƒ ğŸ¶ â€” means forming a structure that relates elements of these domains. So:

ì›ƒ * ğŸ¶ correspondsÂ toÂ aÂ relation R âŠ† ì›ƒ^ ğŸ¬ ğŸ¶^

    p1 d1
    p1 d2
    p1 d3
    .  . 
    .  .  
    p2 d1
    p2 d2
    p2 d3
    .  . 
    .  .  

That is: pairs (person, dog). Each instance could mean "owns", "cares for", "prefers", etc., depending on the interpretation.

ì›ƒ ğŸ¶:	cross-composition,	relation between persons and dogs

ğŸ¶ ì›ƒ:	reversed cross-composition, how dogs interact with people (may differ in direction)


**Owns relation example**

ì›ƒ ğŸ¶ ~ group of dog owners,  bipartite relation between people and dogs.

Example as a two-layer network, matrix table form:

Person nodes (ì›ƒ):  ğŸ˜„ ğŸ˜ ğŸ™‚  
Dog nodes ():     ğŸ¶

| R | ğŸ¶_1 | ğŸ¶_2  | ğŸ¶_3 |
|-----|------|-------|------|
|ì›ƒ_1 |  x   |  x     |      |
|ì›ƒ_2 |      |   x  |  x     |

Edges: according to the Relation who  / likes / walks which dog


Network graph, notice natural clusters.

```mermaid
graph LR

    subgraph Owners
        subgraph Bianco family
            O1[ğŸ™‚ Alice]
            O2[ğŸ˜ Bob]
        end
        subgraph Verdi family        
            O3[ğŸ‘¨ Charlie]
            O4[ğŸ‘© Lisa]
            O5[ğŸ‘§ Emma]
        end
    end

    subgraph Dogs
        D1[ğŸ• Fido]
        D2[ğŸ© Bella]
        D3[ğŸ¦® Spot]
    end


    
    O1 -- owns --> D1 & D2
    O2 -- owns --> D1 & D2
    O3 -- owns --> D3
    O4 -- owns --> D3
    O5 -- owns --> D3
    
```



**Character example**

```
 CAR     BALLADS

 C   B   L 
     A   D
 R       S
```


ã„•â° = code point ã„•Â¹ = character ã„•Â² = token

Each edge holds a word id and the sequence number. 

```mermaid
%%{init: { "flowchart": {  } }}%%
flowchart RL

  subgraph car
      direction TB
      C(["C"])
      R(["R"])    

      style car fill:#FEA ;
  end


  subgraph common
      direction TB
      A(["A"])
      B(["B"])

      style common fill:#FFB;
  end


  subgraph ballad
    L(["L"])
    D(["D"])
    S(["S"])

    style ballad fill:#FED;
  end

  B-- "w58, 1" -->A
  A-- "w58, 2" -->L
  L-- "w58, 3" -->L
  L-- "w58, 4" -->A
  A-- "w58, 5" -->D
  D-- "w58, 6" -->S

  C-- "w74, 1" -->A
  A-- "w74, 2" -->R


```




##### Multiplication associativity

TODO PROPER X ? 


Suppose ğŸ¶ ğŸ¶ is a group of dogs, pack.

ì›ƒ (ğŸ¶ ğŸ¶) !=  (ì›ƒ ğŸ¶) ğŸ¶      TODO NOT SYMBOL

Example:

ì›ƒ (ğŸ¶ ğŸ¶)  ~  Person caring for a group of dogs, like shelter, trainer, or breeder.

ğŸ¶ ğŸ¶ = ğŸ¶^2 is a group of dogs, so this is a mapping:

R âŠ† ì›ƒ^ ğŸ¬ 2^(ğŸ¶^)     # powerset

    p1 {}
    p1 {d1}
    p1 {d2}
    p1 {d3}
    p1 {d1, d2}
    p1 {d1, d3}
    p1 {d2, d3}
    p1 {d1, d2, d3}
    p2 {}
    p2 {d1}
    p2 {d2}
    p2 {d3}
    .
    .
    .


â€” each person associated with a set of dogs.

 
(ì›ƒ ì›ƒ) ğŸ¶  ~ e.g. family caring for one dog (or more)

R âŠ† (ì›ƒ^ ğŸ¬ ì›ƒ^) ğŸ¬ ğŸ¶^  


**Veterinary clinic example**

ì›ƒ (ì›ƒ ğŸ¶)  veterinary clinic, where a vet interacts with both an owner and their pet

R âŠ†  ì›ƒ^ ğŸ¬ (ì›ƒ^ ğŸ¬ ğŸ¶^)


```mermaid
graph LR


    subgraph Vets
        V1[ğŸ‘©â€âš•ï¸ Dr Lee]
        V2[ğŸ‘¨â€âš•ï¸ Dr Kim]

    end

    subgraph Owners
        subgraph Bianco family
            O1[ğŸ™‚ Alice]
            O2[ğŸ˜ Bob]
        end
        subgraph Verdi family        
            O3[ğŸ‘¨ Charlie]
            O4[ğŸ‘© Lisa]
            O5[ğŸ‘§ Emma]
        end
    end

    subgraph Dogs
        D1[ğŸ• Fido]
        D2[ğŸ© Bella]
        D3[ğŸ¦® Spot]
    end


    V1 -- talks_to --> O1
    V2 -- talks_to --> O3

    O1 -- owns --> D1 & D2
    O2 -- owns --> D1 & D2
    O3 -- owns --> D3
    O4 -- owns --> D3
    O5 -- owns --> D3
    
```


### Reduction

ì›ƒâ‚ + ì›ƒâ‚‚ MAY be reduced to 2ì›ƒ or remain "as is" depending on the context.


### Zero element

Zero representation can change according to the setting:

`setting=natural`: Zero can be liberally represented with digit `0`, ambiguities are tolerated.

`setting=formal`:  

- **unambiguous context**: zero can be represented with digit `0`:

        0 + 3ì›ƒ
    

- **ambiguous context** (es. when performing algebra among different symbols):

    `0` MUST be either:  

    * followed directly by a symbol as a variable instance of the intended type, like in a multiplication:


        
            0ì›ƒ + 0ğŸ  
        
      
    * or followed by a colon and its type (without spaces):
        
            0:ì›ƒ^ + 0:ğŸ ^ 
        

Notice here we are only describe notational conventions, algebraic reduction is discussed elsewhere TODO WHERE?


### Unit element

**What is `1` ?** This is such a hard philosophical question we can only vaguely attempt to describe it.

`setting=natural`: 


    1 = one / a unit /  the state or essence of being / something that was gifted by a superior entity


"one" can be liberally represented with digit `1`, ambiguities are tolerated.

`setting=formal`:  

The famous Principia Mathematica Volume I by Whitehead & Russell first defines `1`... on page 379.

We improve upon their results by allowing the short attention span audiences of nowadays to skip the required reading, and kindly provide this quick definition instead:  


    1 = â­0

... which lets us unsatisfied: what's that zero anyway?

Alas, even in formal math `1` and `0` can have a variety of meanings, so we list here the most important ones for us, keeping in mind that _in Pictoji, `1` is  generally considered as typed._

* elementary arithmetic: 1 = the _typed_ number after _typed_ 0
* algebra: 
    1 = the multiplicative _typed_ identity  
    0 = the _typed_ null element 
* set theory: 
    0 = {} the _typed_ empty set  
    1 = {{}} the _typed_ set containing the empty set
    

#### Identities

These equivalences SHOULD always hold:


    SYMBOLâ° = SYMBOL^0 = 1:SYMBOL 


#### Context ambiguity

- **unambiguous**: "one" can be represented with digit `1`:
  
      1 + 3ì›ƒ
  

- **ambiguous**: (es. when performing algebra among different symbols), `1` MUST be either:  


    * elevated to zero, as in exponentiation:
        
            ì›ƒ^0 + ğŸ ^0
        
        
    * or followed by a colon and its type (without spaces):
        
            1:ì›ƒ^ + 1:ğŸ ^
        

Notice here we are only describe notational conventions, algebraic reduction is discussed elsewhere TODO WHERE?

#### One interpretation

 `1` meaning can vary among `role` modes. 
 
 Given a `1` of type `SYMBOL^`, treat `1` as:

- `role=phd`: a pure mathematical object, selecting the proper mathematical type SYMBOL^ according to the context.

- `role=creative`:  the zeroth element of a hierarchy starting at `SYMBOL^0`, following this definition:

    `1 = SYMBOL^0` ~ the state or essence of being / something that was gifted by a superior entity

    If there is no meaningful enough candidate (or if we are already at the bottom of the hierarchy), use `role=phd` as fall-back.

    Examples: 

    `1:ì›ƒ^ = ì›ƒ^0`  ~ personhood, persona, the archetype of sentience  
    `1:ğŸ ^ = ğŸ ^0` ~ dwellingness, the concept of shelter  
    `1:ğŸ™‚^ = ğŸ™‚^0` ~ happiness, the state or essence of being happy 

- `role=technician`: 

    * if there is a defined hierarchy in the context (like ì›ƒ, ğŸ , ...):

        the zeroth element of a hierarchy starting at `SYMBOL^0`

    * otherwise:
    
         try deriving the meaning in a way grounded in common sense. If none can be found, use `role=phd` as fall-back.


### Polynomials

Suppose we have a symbol `S`, this notation represents the polynomial of `S`


    P(x) =  aâ‚€ Sâ° + aâ‚ SÂ¹ + aâ‚‚ SÂ² + aâ‚ƒ SÂ³ + ... + a_n S^n 


For example, if `S = ì›ƒ`, a polynomial could be:

    P(ì›ƒ) =  9 + 15ì›ƒ + 7ì›ƒÂ² + 18ì›ƒÂ³

**Power series**: a polynomial where `n` tends to infinity.

In `role=phd` and `technician`, the meaning of a power series in variable _x_ is  

P(_x_) -> hierarchical model of _x_

- Formal power series are not necessarily meant to be calculated, kind of like in Analytic Combinatorics
- need to specify a _distribution_
- queries potentially can materialize many individuals with weighted relations (to represent a noisy world)
- meaning search is two-level:
    - from expression analysis alone
    - emergent from complexity via network clustering, e.g. centrality, etc.


Examples: 

P(ì›ƒ) -> social hierarchy model 

P(ğŸ ) -> human settlement hierarchy model

### Polynomial coefficients

TODO MUST support [Philosophy use case](#philosophy)

Polynomial coefficients can be used to model the weight of a particular component.

For comparison and interpretation purposes, weights SHOULD be normalized in the range `0.0` - `1.0` such that:

$âˆ‘ a_k = 1.0$

### Integer coefficients

TODO MUST support [Story generation use case](#story-generation)

Everyday users tend to think in single quantities (ì›ƒ is 1 person), while db languages and relational math usually represent things in vectors. To solve the mismatch, query variables could be interpreted as representing a quantity of `1` by default and sample building / LIMIT clause is implicitly created by means of coefficients, e.g.  `3ì›ƒ` selects three different persons from the db. 

- need precise quantities
- single based values
- queries materialize few individuals and edges with weights on a simplified scale (e.g. heavy / soft / none link)


TODO JUST A SKETCH, need clone operator and constraint-solver layer to prevent weirdness

ì›ƒ^ = {ì›ƒ_1, ì›ƒ_2, ....., ì›ƒ_n}   Person type, also selects _all_ people from the db (possibly a lot but still finite)

- ì›ƒ acts as a query variable which ranges over ì›ƒ^.

- Different appearences of ì›ƒ in a fully reduced expression mean different persons:

        ì›ƒ + 4ì›ƒ - 2ì›ƒ = 3ì›ƒ     3 different persons to instantiate

ì›ƒ âˆˆ ì›ƒ^  valid from a user point of view with âˆˆ semantics overloaded so it works even if internally the query engine will autobox, see below

ì›ƒ q-> {ì›ƒ} autoboxing if ì›ƒ can be proven to have cardinality 0 or 1

ì›ƒ + ì›ƒ -> 2ì›ƒ

2ì›ƒ q-> {ì›ƒ_i, ì›ƒ_j}  selects two _different_ random people indexed i, j from the db ì›ƒ^ set

ì›ƒ_1 + ì›ƒ_4 q-> {ì›ƒ_1, ì›ƒ_4} selects exactly ì›ƒ_1 and ì›ƒ_4 from the db ì›ƒ^ set (TODO what if they are not inside?)

3ì›ƒ_7 q-> {ì›ƒ_7, ì›ƒ_n+1, ì›ƒ_n+2}   generates two new fresh instances (thus with different ids) copied from original ì›ƒ_7

ì›ƒ_7 + ì›ƒ  q-> {ì›ƒ_7, ì›ƒ_i} -> selects person at index 7 and a person i _at random_ from ì›ƒ^ set and person ì›ƒ_1.  If i = 7, generate new fresh id for the duplicate.

ì›ƒ_1 + ì›ƒ_1  -> 2ì›ƒ_1    selects two copies of person ì›ƒ_1, second copy gets a fresh id


ì›ƒ ğŸ¶ ->  exactly 1 group of e.g. dog owners

ì›ƒ^ X ğŸ¶^ = all possible groups of e.g. dog owners in the db

3 ì›ƒ ğŸ¶ -> exactly 3 _different_ groups of e.g. dog owners

(ì›ƒ ğŸ¶)_7 + (ì›ƒ ğŸ¶)_3   -> selects group at index7 and group at index 3 from large all dog owners query ì›ƒ^ X ğŸ¶^ (TODO define sorting method later)

ì›ƒ 3ğŸ¶ -> 3 ì›ƒ ğŸ¶   3 groups of dog owners (as much as I would like to mean something like 1 person for 3 dogs, following standard algebra rules seems the best route..)

3ì›ƒ 2ğŸ¶ -> 6 ì›ƒ ğŸ¶    6 groups of dog owners

### Equations

TODO SHOULD support [Graffiti art](#story-generation) use case.

The quest would be to have expressions generate types which are totally different from their initial types: if done directly it would bork the algebra, still we can envision some way to use the DB to 'influence' and bend the results. 


### Probability

To express probabilities we use type operator `^` in symbols to distinguish from polynomials:  

* Probability that `Person` = person (notice capitalization):
    
      P(ì›ƒ^ = ì›ƒ) 
    
* Probability of `Person`:
    
      P(ì›ƒ^) 
    



- Pluralities union:

    TODO using â‚“ (letter x) as subscript is a stretch


    Possibly infinite:

    ```
    ì›ƒì›ƒ  â‹ƒ  ğŸ ğŸ  ->  {ì›ƒâ‚, ì›ƒâ‚‚, ... , ğŸ â‚, ğŸ â‚‚, ...}
    ```

    Finite:

    ```
    2ì›ƒ  â‹ƒ  3ğŸ  ->  {ì›ƒâ‚, ì›ƒâ‚‚, ğŸ â‚, ğŸ â‚‚, ğŸ â‚ƒ}
    ```

Powers union:


    ì›ƒ^2  â‹ƒ  ğŸ ^3 -> {ì›ƒâ‚â‚“â‚, ì›ƒâ‚â‚“â‚‚, ì›ƒâ‚â‚“â‚ƒ, ..., ì›ƒâ‚‚â‚“â‚, ì›ƒâ‚‚â‚“â‚‚, ì›ƒâ‚‚â‚“â‚ƒ, ..., ğŸ â‚â‚“â‚â‚“â‚, ... }  



## Decoding

To reach minimality, the PDP SHOULD list the symbols of HIGH_FREQ_WORDS  as a sequence *without* the corresponding English meaning, which could be retrieved by known COCA sources.  

When a marker (â†¦, etc.) is concatenated to a noun without space, treat the result as a lexicalized compound. With a space, parse it compositionally.

### gen_pdp.py specs

**Goal.** Emit pdp.md that contains: a decoding preamble (no English word lists), a single sequence of symbols ordered by HIGH_FREQ_WORDS frequency, and machine-checkable metadata. No English word literals may appear in `pdp.md`.

- **`gen_pdp.py` SHOULD**: be minimal
- **`gen_pdp.py` SHOULD NOT**: have documentation, have symbols unless absolutely needed for its inner workings, try being a replica of `pictoji.md`.
- **Reproducibility**: Same inputs MUST yield byte-identical `pdp.md`. Any change to HIGH_FREQ_WORDS order or mapping requires bumping pdp_format or pictoji_version.
- **Security/IO**: No network access. Only read pictoji.md and optional local coca.txt (if present). Never write any file other than pdp.md.


#### HIGH_FREQ_WORDS order (no words in specs/output)

- The program MUST carry, internally, a canonical HIGH_FREQ_WORDS order (lemmas), normalized to lowercase ASCII, one per line, never printed.
- The program MUST compute high_freq_words_sha256 = SHA-256 of that normalized list and include it in pdp.md's metadata.
- The program MUST NOT fetch from the network at runtime. The order for HIGH_FREQ_WORDS MUST be embedded in code, or loaded from a local file if present if |HIGH_FREQ_WORDS| > 200 .

#### Mapping to symbols (rank-based, private)

- The program MUST maintain, inside code, a rankâ†’symbol mapping derived from the project's definitions (e.g., by parsing pictoji.md lines shaped like SYMBOL = â€¦) plus any necessary private overrides to disambiguate high-frequency function items.
- This internal mapping MUST NOT be written to pdp.md or logs; only the resulting symbols appear.

#### Output format (deterministic)

`pdp.md` MUST include:

[meta]
source = COCA_TOP_HIGH_FREQ_WORDS
coca_sha256 = <64 hex chars>
pictoji_version = <semver or tag>
pdp_format = 2
unicode_version = 16.0
emoji_sequence_source = emoji-zwj-sequences.txt (Unicode)
[/meta]

<exactly |HIGH_FREQ_WORDS| space-separated symbols, in rank order>

#### Normalization & validation (must)

- Tokenization: symbols are space-delimited; punctuation attaches to the left;
- Progressive and past attachers: â†» may attach to any verb; â†¶ attaches to verbs/auxiliaries.
- Infinitive: â†¦ = "to / toward / as infinitive."

##### Before writing, the program MUST verify:

- [symbols] length = HIGH_FREQ_WORDS tokens.

- high_freq_words_sha256 matches the embedded COCA order; otherwise exit with error.

#### Missing coverage (graceful, explicit)

- If a COCA rank is not mapped, the program MUST place error symbol â†‚ at that position.
- The program SHOULD emit a single-line summary count to stderr only (not into `pdp.md`).


## Core Grammar

### System terms

ã„•ğŸ—¿ = Pictoji  
ã‰£ = specs
ã„• = symbol
ğŸ—¿ = emoji  
â° = hypotesis
ğŸ§ª = test  
âš› = atom

á›  = type
â‹ = property
á•“ = value
ê•· = schema
ÆŠ = database
ğ”¹ = bool
â„• = natural

â†‚ = error
â†‚^[T] = error of type T,  (^[T] may be omitted if the context is clear)
_^[T] = unknown of type T  (^[T] may be omitted if the context is clear)
ğŸ€› = collection
ğŸ™ = sequence
ğŸ—¾ = map
âš™ = function

We start the hierarchy from an informatics point of view.

ã„•â° = code point                      Unicode numeric identifier (U+XXXX)    
ã„•Â¹ = character / grapheme cluster   Symbol with meaning (may map to 1+ code points in rendering)  
ã„•Â² = morpheme / token               Morphemes derive from humans semantics, tokens from statistical inference  
ã„•Â³ = word  
ã„•â´ = phrase  
ã„•âµ = clause  
ã„•â¶ = sentence  
ã„•â· = discourse / document            Organized flow of sentences  
ã„•â¸ = treatise  
ã„•â¹ = corpus   
ã„•Â¹â° = discipline   

P(ã„•) = culture
ğŸ”¤ = ã„•Â³


`a` â†’ 1 character, 1 grapheme

`Ã¡` â†’ 2 characters ('a' + combining acute accent), but 1 grapheme

`ğŸ‘©â€ğŸš€` â†’ 5+ characters (woman + zero-width joiner + rocket emoji parts), but 1 grapheme


Ï¡â° = phonetics  
Ï¡Â¹ = phonology / graphemics  
Ï¡Â² = morphology  
Ï¡Â³ = orthography  
Ï¡â´ = semantics / vocabulary / lexicon  
Ï¡âµ = grammar / syntax  
Ï¡â¶ = rhetoric          
Ï¡â· = philosophy  
Ï¡â¸ =  sentient being  / consciousness     awareness of reflection, language recognizing itself as being.  

P(Ï¡) = language  


Ï¡ = Ï¡Â¹  
ğ‘ = sentient  
ğ‘ â†»âŸ¡ = Ï¡â¸  
ğŸ”  = P(Ï¡)  




### Copula and auxiliary


âŸ¡ = be / am / is / are / was / were / been / being  
âŸ¡âŸ¡ = plural be  
â†¶âŸ¡ = was  
â†¶âŸ¡âŸ¡ = were  
â†»âŸ¡ = being  
â— = do / does  
â—‡ = maybe   


ã€½ = already   


### Determiners

âš² = a / an  
â—™ = the  
â›¶ = any  
âŠ¡ = each  
ìœ¼ = only  
â›‰ = just  
â›Š = such  

## Adverbs

Û = well  


### Negation / Validation

Â¬ attaches to auxiliary or modal
Example: â—Â¬ = don't, â†¶â—Â¬ = didn't

â—Â¬ = don't  
ğŸš« = no        determiner / clausal negation clash with no, none [OVERRIDE]  
ğŸ‘Œ = ok/yes  
âœ… = good  
âŒ = bad  
ğŸ™‚ = happy  
ğŸ™ = sad   


### Tense and aspect

â†¶ attaches to verbs for past        [ARROW]
âŠ¸ = have  
âŠ¸ â†¶âŸ¡ = have been  
âŠ¸ â†¶âŸ¡ â†»VERB = have been doing  

### Modals

â— = do   
â—Â¬ = don't   
â†¶â— = did   
â†¶â—Â¬ = didn't  

ğŸ‹ = can   
ğŸ‹Â¬ =  cannot   
â†¶ğŸ‹ = could  
â†¶ğŸ‹Â¬ = couldn't  

â‡— = will                       [ARROW]  
â‡—Â¬ = won't                     
â†¶â‡— = would   
â†¶â‡—Â¬ = wouldn't  

â­§ = shall                       [ARROW]
â­§Â¬ = shan't   
â†¶â­§ = should  
â†¶â­§Â¬ = shouldn't  

â—† = may   
â—†Â¬ = may not  
â†¶â—† = might  
â†¶â—†Â¬ = might not  

â¤Š = must                                       [ARROW]
â¤ŠÂ¬ = must not  
â†¶â¤Š = must (past)  

â†¶â­§ âŠ¸ â†¶âŸ¡ â†»VERB = should have been doing  
â‡— âŠ¸ â†¶âŸ¡ â†»VERB = will have been doing  
â†¶â‡— âŠ¸ â†¶âŸ¡ â†»VERB = would have been doing  

## Formal concepts

### Logic

â˜ = relation 
ğŸœ› = graph / network
ê”… = group  
ğŸœ¶ = hierarchy  
Â¬ = not      determiner / clausal negation clash with no, none [OVERRIDE]  
âˆ¿ = approximated complement (different from 'about')  property: âˆ¿âˆ¿x Â¬= x  
â“‰ = true
â’» = false
âŠ¤ = top
âŠ¥ = bottom
= = equal, same   
â‰  = different  
â—ˆ = constant  

â‡’ = implies        [ARROW]   

â¸® = if  
â‡¨ = then           [ARROW]
â¤³ = so / therefore  


### Quantifiers

âˆƒ = exists / there exists      formal only; tenseless; negation and time apply outside/adjacent to the existential (Â¬ (âˆƒ X), âˆƒ X â®Š T). Interpret existential / spatial as needed [setting=formal][OVERRIDE]  

â˜ âŸ¡ = there is / there's / there are       natural_language existential; carries tense/aspect/negation on âŸ¡; â˜ alone remains deictic "there". Interpret existential / spatial as needed [setting=natural][OVERRIDE]   


âˆ€ = all / every  
â—³ = part    
â—« = few  
â–¥ = many / several   
â–© = much  
â–ˆ = very  
âŠœ = enough   
âš¯ = too  
â™ = also  
â  = both  

â› = length  

### Numbers

0 = zero  
1 = one  
2 = two  
3 = three  
4 = four  
5 = five  
6 = six  
7 = seven  
8 = eight  
9 = nine  
Â° = ordinal marker   

sum = âˆ‘

### Relations

âˆˆ = in / belongs  
âŠ‚ = strictly included, LR       `setting=natural`: ignore the 'strictly', prefer over âŠ†, i.e. many bungalows âŸ¡ âŠ† in the resort   `setting=math`: keep the strict meaning, A âŠ‚ B  A is a strict subset of B  
âŠƒ = strictly include, RL        `setting=natural`: ignore the 'strictly', prefer over âŠ‡, i.e. the resort âŠƒ many bungalows   `setting=math`: keep the strict meaning, i.e. A âŠƒ B    "A is a strict superset of B" 
âŠ† = included / subset of, LR        
âŠ‡ = include / superset of, RL          

â = out  
âŠ£ = because  
â—’ = over  
â—“ = under  
âŸ = around  
ğŸŸ— = on  
ğŸŸ˜ = off  
ğŸ¬ = by  
âš® = between  



### Conjunctions

âˆ§ = and  
âˆ¨ = or 
â‹ƒ = union
â‹‚ = intersection 
â¨ = join
ğŸœ• = compose
â’ = merge
âš = since  both temporal preposition and causal conjunction [OVERRIDE]  
ğŸŒ“ = but   
âŒ‡= though / although  

### Comparison

â–²ADJ = more ADJ/ADV  
â–¼ADJ = less ADJ/ADV  
âŠ³ = than  
â–²â–² = most  
â–¼â–¼ = least  


## Prepositions

â‹ = from  
ã…± = away  
â†¦ = to / toward / as infinitive       [ARROW]
âŠ¶ = of   
âš­ = with   
ãŠ… = as      use it also in as ADJ as   [OVERRIDE]  
â®Š = at  
âˆ» = through   
âŸ´ = across   
ğŸ†š = against  



### Adjectives

âŠ› = own  
â¬£ = big  
â—˜ = little / small  
âŒ” =  near  
â–½ = far  
ğŸ® = long  
â–ƒ = short  
ğŸ†• = new  
âŒ› = old  
â‹ = high   
â‹ = low   
ğŸ£= young   
âœª = important   
â§Š = difficult   
â¬­ = easy
strong = ğŸ’ª
weak = â­–


### Interrogatives

? at the end


å±± = what     
âš‡ = who  
ğŸ“ = where  
â° = when  
Ï¢ = why  
â£ = how  
â– = which  

#### Interrogative Clitics

Form: SYMBOL âŸ¡/âŠ¸ = INTERROGATIVE's 

å±± âŸ¡ = what's  
å±± âŠ¸ = what's  
âš‡ âŸ¡ = who's  
âš‡ âŠ¸ = who's  
ğŸ“ âŸ¡ = where's  
ğŸ“ âŠ¸ = where's  
â° âŸ¡ = when's  
â° âŠ¸ = when's  
Ï¢ âŸ¡ = why's  
Ï¢ âŠ¸ = why's  
â£ âŸ¡ = how's  
â£ âŠ¸ = how's  
â– âŸ¡ = which's     rare, awkward  
â– âŠ¸ = which's     rare, awkward  


### Compound forms

- Compund forms are created by joining the symbols they use, without spaces.
- We place them here for completeness but they should all be derivable just from the rule. 

â—”1 = someone   
â›¶1 = anyone  
ğŸš«ğŸ§ = nobody  
âˆ€ğŸ§ = everybody  
âˆ€ğŸ“ = everywhere  


â—”â˜‰ = something  
â›¶â˜‰ = anything  
ğŸš«â˜‰ = nothing  
âˆ€â˜‰ = everything  

ğŸœâ‡„ = another  
â–²â—’ = moreover  

âˆˆâ†¦ = into  
ğŸŸ—â†¦ = onto  

âš­âˆˆ = within  
âš­â = without  


### Directionals and links

~ = about   isomorphic to / homotopy equivalent / similar. Common in algebra, topology, category theory  
â†‘ â†“ â† â†’ = up, down, left, right          [ARROW]
â‡¢ = after                               [ARROW]
â‡  = before                              [ARROW] 
â¡ = way                                [ARROW]
â‡„ = other                               [ARROW]
â€– = even  

## Time

â³ = time  
â± = now  
ğŸ•’ = hour  
ğŸ“… = day  
â–“ = week  
ğŸ—“= year  
ğŸŒƒ = night  
ğŸŒ… = morning / morrow  

### Frequency 

âœ´â° = never   
âœ´Â¹ = âœ´ = once  
âœ´Â² = seldom / rarely   
âœ´Â³ = sometimes   
âœ´â´ = often   
âœ´âµ = always  

âœ´âœ´ = twice / two times   
âœ´âœ´âœ´ = thrice / three times  

### Change

ğŸ§˜= still

âˆ† = difference

âˆ‚â° = impetus  
âˆ‚Â¹ = velocity / rate of change 
âˆ‚Â² = acceleration 
âˆ‚Â³ = surge
âˆ‚ = âˆ‚Â¹

â¯® = become
âº = record  


### Ordering

â© = forward  
âª = backward  
â­ = next  
â® = previous / back  

When uncertain about how to express a word which has natural "successor of / predecessor of SOMETHING" meaning, prefix SOMETHING with â®ï¸ / â­ï¸ without spaces.

Example:

â­ğŸ“… = tomorrow  
â®ğŸ“… = yesterday  

â®â³ = past  
â­â³ = future   

If in doubt, try compound forms, example:

â†¦ğŸ“… = today   DO NOT bother about it being a hack [OVERRIDE]  
â†¦ğŸŒƒ = tonight DO NOT bother about it being a hack [OVERRIDE]  

When there is a clear progression about some MEASURE, use  âª/â©MEASURE  without spaces

Example:

âªâ³ = soon  
â©â³ = late  
â–²âªâ³ = sooner  
â–²â©â³ = later  





### Loops

ğŸŒ€ = cycle   
âˆ½ = while   
ãŠ = for       use same word for benefactive/purpose/duration [OVERRIDE]    
âŒ¢ = during  
â§˜ = until  

â–¶ = play  
ğŸƒ = go  
â–²ğŸƒ = run   
â¹ = stop  
â¸ = pause  
ğŸ” = again  

## Humans

ì›ƒ = person  

ì›ƒÂ¹ = person   
ì›ƒÂ² = people / crowd   
ì›ƒÂ³ = society   

ì›ƒì›ƒ = persons  
2ì›ƒ = a couple (of persons)  

ğŸ§’ = child  
ğŸ§‘ = adult  
ğŸ¤ = friend  
ğŸ‘¥ = partner  

â™‚ = male  
â™€ = female  
ğŸ‘¨â€ğŸ‘¦ = son  
ğŸ‘©â€ğŸ‘§ = daughter  
father = TODO
mother = TODO

### Settlements hierarchy 

ğŸ  = house   
ğŸ Â¹ = house   
ğŸ Â² = village  
ğŸ Â³ = city   
ğŸ â´ = metropolis   
ğŸ âµ = state/province   
ğŸ â¶ = country / nation  

ğŸ˜ = ğŸ Â²    
ğŸ™ = ğŸ Â³    
ğŸŒ† = ğŸ â´    
ğŸ—º = ğŸ âµ    
âš = ğŸ â¶    

ğŸŒ = world  

ğŸ ğŸ  = houses   

#### Specific groups

ğŸ¢ = company (dedicated Unicode: "office building")   
ğŸ› = institution (Unicode: "classical building")  

## Pronouns and Deictics

English has some inherent ambiguities,  either for historical reasons ("it" is both pronoun and object pronoun) or gender debates ("they" is now both singular pronoun for unspecified gender and plural). 

- To solve the conundrum, Pictoji overspecifies some cases, leaving the context to decide which is best to use. 
- If no context is available, use symbols marked as [DEFAULT].


ğŸ§¿ = self  
ğŸ§¿ğŸ§¿ = selves  

ğŸ‘¤ = I   
ğŸ«µ = you  
ğŸ‘¨ = he   
ğŸ‘© = she  
Æ = they     singular, gender-neutral  
ğŸ”¹ = it      [DEFAULT]  
ğŸ‘¤ğŸ‘¤ = we   
ÆÆ = they    plural [DEFAULT]  

### Verb Clitics

Form: PRONOUN_SYMBOL VERB_SYMBOL = PRONOUN'CONTRACTED_VERB

ğŸ‘¤ âŸ¡ = I'm  
ğŸ«µ âŸ¡ = you're  
ğŸ‘¨ âŸ¡ = he's  
ğŸ‘© âŸ¡ = she's  
Æ âŸ¡ = they're    singular, gender-neutral  
ğŸ”¹ âŸ¡ = it's  
ğŸ‘¤ğŸ‘¤ âŸ¡ = we're  
ÆÆ âŸ¡ = they're    plural [DEFAULT]  

ğŸ‘¤ âŠ¸ = I've  
ğŸ«µ âŠ¸ = you've  
ğŸ‘¨ âŠ¸ = he's  
ğŸ‘© âŠ¸ = she's  
Æ âŠ¸ = they've    singular, gender-neutral  
ğŸ”¹ âŠ¸ = it's  
ğŸ‘¤ğŸ‘¤ âŠ¸ = we've  
ÆÆ âŠ¸ = they've    plural [DEFAULT]  

ğŸ‘¤ â‡— = I'll  
ğŸ«µ â‡— = you'll  
ğŸ‘¨ â‡— = he'll  
ğŸ‘© â‡— = she'll  
Æ â‡— = they'll    singular, gender-neutral  
ğŸ”¹ â‡— = it'll  
ğŸ‘¤ğŸ‘¤ â‡— = we'll  
ÆÆ â‡— = they'll    plural [DEFAULT]  

ğŸ‘¤ â†¶â‡— = I'd  
ğŸ«µ â†¶â‡— = you'd  
ğŸ‘¨ â†¶â‡— = he'd  
ğŸ‘© â†¶â‡— = she'd  
Æ â†¶â‡— = they'd    singular, gender-neutral  
ğŸ”¹ â†¶â‡— = it'd  
ğŸ‘¤ğŸ‘¤ â†¶â‡— = we'd  
ÆÆ â†¶â‡— = they'd    plural [DEFAULT]  


### Object pronouns 

Form: PRONOUNâ€

ğŸ‘¤â€ = me  
ğŸ«µâ€ = you   
ğŸ‘¨â€ = him   
ğŸ‘©â€ = her   
Æâ€ = them   singular, gender-neutral, see default  
ğŸ”¹â€ = it   
ğŸ‘¤ğŸ‘¤â€ = us   
ÆÆâ€ = them   plural [DEFAULT]  

### Possessive adjectives 

From: PRONOUNâ´

ğŸ‘¤â´ = my   
ğŸ«µâ´ = your   
ğŸ‘¨â´ = his     [DEFAULT]  
ğŸ‘©â´ = her  
Æâ´ = their    singular, gender-neutral  
ğŸ”¹â´ = its     [DEFAULT]  
ğŸ‘¤ğŸ‘¤â´ = our   
ÆÆâ´ = their    plural [DEFAULT]  

### Possessive clitics

Possessive clitic A's B becomes AâŒ B, Example John's dog -> JohnâŒ ğŸ¶ 

### Possessive pronouns 

Form: PRONOUNâŒ 

ğŸ‘¤âŒ = mine   
ğŸ«µâŒ = yours   
ğŸ‘¨âŒ = his     see default form ğŸ‘¨â´   
ğŸ‘©âŒ = hers  
ÆâŒ = theirs   singular, gender-neutral  
ğŸ”¹âŒ = its     see default form ğŸ”¹â´   
ğŸ‘¤ğŸ‘¤âŒ = ours   
ÆÆâŒ = theirs  plural  

### Reflexives 

Form: PRONOUNğŸ§¿ 

These are special irregular 'compounds' to keep things simple .

ğŸ‘¤ğŸ§¿ = myself   
ğŸ«µğŸ§¿ = yourself   
ğŸ‘¨ğŸ§¿ = himself   
ğŸ‘©ğŸ§¿ = herself  
ÆğŸ§¿ = themself    singular, one person with unspecified or nonbinary gender  
ğŸ”¹ğŸ§¿ = itself   
ğŸ‘¤ğŸ‘¤ğŸ§¿ = ourselves   
ÆÆğŸ§¿ = themselves   plural  


### Demonstrative deictics

â–£ = this  
ğŸ‘‰ = that   use same word for complementizer vs demonstrative [OVERRIDE]  
â–£â–£ = these  
ğŸ‘‰ğŸ‘‰ = those  

ğŸ‘‰ âŸ¡ = that's       99% of cases  
ğŸ‘‰ â†¶âŸ¡ = that was   not grammatical, still everywhere in colloquial English â€” That's him! (â‰ˆ "That was the person I meant.")  
ğŸ‘‰ âŠ¸ = that has    rare, mostly before been  


### Spatial deictics

â˜Ÿ = here  
â˜ = there  
â˜‰ = object / thing


## Morphological derivations

English derivations are not very regular, sometimes imprecise and tend to overlap, so here we laid out a full spectrum of cases.

We also add examples in Latin since its forms are much more regular and still sometimes used in academic or formal environments.

* `encode` function SHOULD attempt a translation to the most precise proper morphological category.
* `decode` function SHOULD select the form depending on context:

  * `setting=natural`: closest to what an everyday English speaker would read best.  
  * `setting=formal`:  closest to what an English academic would want.  

---

### NOMINALIZATION -> noun

#### Agentive (doer)

Form: SYMBOLâ™

* **Human**: ğŸ—£â™ = speaker, writer, teacher
  Latin: *orator* (speaker, root *orare* â€œto speakâ€), *scriptor* (writer), *doctor* (teacher, root *docere* â€œto teachâ€)

* **Nonhuman / institutional**: generator, producer, publisher
  Latin: _generator_, _creator_, _auctor_ (originator, author)


#### Instrumental (tool / machine)

Form: SYMBOLğŸ¯ƒ

* **Mechanical**: printer, mixer, amplifier
  Latin: _instrumentum_ (tool), _vehiculum_ (vehicle), _ferramentum_ (iron tool)

* **Abstract / functional**: trigger, enabler, unlocker (metaphoric agent)
  Latin: _documentum_ (lesson, evidence), _indicium_ (indicator, sign)


#### Resultative (product / outcome)

Form: SYMBOL

* **Concrete results**: building, painting, weaving
  Latin: _aedificium_ (building), _scriptum_ (a written thing), _opus_ (work, creation)

* **Abstract results**: solution (root *solv-* â€œto loosenâ€), insight, reflection
  Latin: _solutio_ (solution), _reflexio_ (reflection), _cognitio_ (knowledge, insight)


#### Process / Action (event)

Form: SYMBOLğŸ¯ƒ

* **Dynamic**: ğŸ—£ğŸ¯ƒ = speaking, running, working
  Latin: *cursus* (running), *oratio* (speaking, prayer), *labor* (work)

* **Static / ongoing**: ğŸ’­ğŸ¯ƒ = thinking, meditating, sleeping
  Latin: *cogitatio* (thinking), *meditatio* (meditation), *somnus* (sleep)


#### State / Quality

Form: SYMBOL^0

- **Qualitative**: ğŸ™‚^0 = happiness, ì›ƒ^0 = personhood (different from collective), brightness, warmth, 
  Latin: _beatitudo_ (blessedness, happiness), _claritas_ (brightness), _calor_ (warmth)

- **Condition / status**: 
    - deadness, tiredness, ğŸ™^0 = sadness,  
    â­^0 = stardom (The status of a performer or entertainer acknowledged as a star.)   
    âš^0 = nationhood (status / condition of nation)  
  Latin: _mors_ (death), _lassitudo_ (weariness), _tristitia_ (sadness)


#### Collective / Group (aggregate)

Form: see [Hierarchies section](#hierarchies).

- **Social**: brotherhood, partnership, community, â­^2 = stardom (Star performers considered as a group)
  Latin: _fraternitas_ (brotherhood), _societas_ (partnership), _communitas_ (community)

- **Organizational / territorial**: kingdom, priesthood, âš^2 = nationhood (the nation as collective body) 
  Latin: _regnum_ (kingdom), _sacerdotium_ (priesthood), _natio_ (nation)



#### Locative (place of X)

Form: SYMBOLğŸ“

* **Functional**: bakery, laundry, âš’ğŸ“ = workshop
  Latin: _pistrinum_ (bakery), _officina_ (workshop), _balneum_ (bath)

* **Institutional**: ğŸ“–ğŸ“ = library, school, hospital
  Latin: _bibliotheca_ (library, from Greek), _schola_ (school), _hospitium_ (guest house, hospital)


#### Temporal (time of X)

* **Period**: morning, evening, night
  Latin: *mane* (morning), *vesper* (evening), *nox* (night)

**Recurrence / cycle**: 

- Form (generic): ğŸ”SYMBOL
- English Examples ğŸ”â— = redo, ğŸ”â–¶ = replay, rewrite  
repetition, schedule, renewal
- Latin: *repetitio* (repetition), *series* (sequence), *renovatio* (renewal)




---

#### Abstract / Conceptual (idea of X)

* **Doctrinal**: aestheticism, Christianity, Taoism
  Latin: *Christianitas* (Christianity), *Stoicismus* (Stoicism), *aestheticismus* (Aestheticism)

* **Theoretical**: realism, rationalism, cognitivism
  Latin: *realismus*, *rationalismus*, *cognitivismus*

---

#### Other nominal derivations

* **Diminutive**: booklet, duckling, cottage
  Latin: *libellus* (â€œlittle bookâ€), *homunculus* (â€œlittle manâ€), *domuncula* (â€œsmall houseâ€)

* **Augmentative**: strongman, lionheart, megastructure
  Latin: *magnitudo* (greatness), *grandis* (large), *heros* (hero)

* **Pejorative (derivational)**: childish, foolish, bossy
  Latin: *stolidus* (foolish), *ineptus* (inept), *vanus* (vain)

* **Gendered**: actress, waiter, princess
  Latin: *actor / actrix*, *magister / magistra*, *rex / regina*

---

### ADJECTIVALIZATION -> adjective

* **Qualitative**: greenish, fiery, cold, noisy
  Latin: *viridis* (green), *igneus* (fiery), *frigidus* (cold), *sonorus* (noisy)

* **Relational**: academic, chemical, national, seasonal
  Latin: *academicus*, *chemicus*, *nationalis*, *temporalis*

* **Possessive**: kingly, brotherly, ghostly
  Latin: *regius* (royal), *fraternus* (brotherly), *umbrosus* (shadowy)

* **Material**: golden, wooden, silken, metallic
  Latin: *aureus* (golden), *ligneus* (wooden), *sericus* (silken), *metallicus*

* **Locative or contextual**: worldly, coastal, rural
  Latin: *mundanus* (worldly), *maritimus* (coastal), *rusticus* (rural)

* **Privative or abessive (lacking)**: homeless, toothless, colorless, sightless
  Latin: *incolor* (colorless), *edentulus* (toothless), *sine domo* (without home)

* **Evaluative or defective (improperly)**: ill-formed, ill-timed, malformed, misaligned
  Latin: *male formatus* (ill-formed), *malus tempus* (ill-timed), *deformis* (misshapen)

---

### PARTICIPIAL ADJECTIVES -> verbal qualities

**Active**: 

Form: â†»ADJ

- English: "-ing" |  â†»â¤ = loving, â†»â–²ğŸƒ = running, shining
- Latin: "-nt" | *amans* (loving), *currens* (running), *lucens* (shining)

**Passive**: 

Form: â†¶ADJ

-  English: "-ed" |  â†¶â¤ = loved, formed, chosen
-  Latin: "-tus" | *amatus* (loved), *formatus* (formed), *electus* (chosen)


### POTENTIAL / APTIVE -> ability or suitability

Form: SYMBOLğŸ‹  (without spaces)

* English: "-able", "-ible" | â¤ğŸ‹ = lovable, ğŸ‘€ğŸ‹ = visible, readable, reversible
* Latin: "-bilis" | â¤ğŸ‹ = *amabilis* (lovable), ğŸ‘€ğŸ‹ = *visibilis* (visible), *legibilis* (readable), *reversibilis* (reversible)


### VERBALIZATION -> verb

* **Causative**: modernize ("make modern"), simplify ("make simple"), empower ("give power")
  Latin: *clarificare* (to make clear), *amplificare* (to make larger)

* **Inchoative**: awaken ("become awake"), solidify ("become solid")
  Latin: *florere* (to begin to bloom), *albescere* (to turn white)

* **Iterative / intensive**: redo ("do again"), reconsider ("think again")
  Latin: *dictare* (say repeatedly), *pulsare* (beat repeatedly)

* **Denominal**: hammer -> to hammer, poison -> to poison
  Latin: *malleare* (from *malleus*, hammer), *coronare* (to crown)

* **De-adjectival**: cool -> to cool, warm -> to warm
  Latin: *purificare* (to purify), *solidare* (to make solid)


### ADVERBIALIZATION -> adverb

* English: quickly, recently, extremely, nightly, loudly, brightly, kindly
* Latin: *celeriter* (quickly), *nuper* (recently), *valde* (very, extremely), *noctu* (by night), *clamose* (loudly), *lucide* (brightly), *benigne* (kindly)


### POLARITY / NEGATION -> opposite meaning

#### Negative adjectival derivation

Typical affixes: un-, in-, im-, ir-
English: unholy, unequal, impossible, impolite
Latin: *impius* (unholy), *inaequalis* (unequal), *impossibilis* (impossible), *impolitus* (uncultivated, impolite)

#### Negative nominal derivation

Typical affixes: non-, dis-, a-, anti-
English: inequality, disbelief, non-determinism, anti-realism
Latin: *iniquitas* (inequality), *incredulitas* (disbelief), *indeterminatio* (non-determination), *antirealismus* (anti-realism)

#### Composite / recursive

Typical affixes: multiple derivations
English: undetermined (verb -> adj -> neg adj), unreality (adj -> noun -> neg)
Latin: *indeterminatus* (undetermined), *irrealitas* (unreality)


### PRIVATIVE / DEFECTIVE -> lacking or improper

#### Explicit lack (-less)

English: toothless, colorless, heartless, homeless, mindless
Latin: *edentulus* (toothless), *incolor* (colorless), *exanimis* (lifeless, â€œwithout breathâ€), *sine domo* (homeless)

#### Improper or deficient (ill-, mal-, mis-)

English: ill-formed, ill-advised, malformed, misaligned, malfunction
Latin: *male formatus* (ill-formed), *malus consilium* (bad advice), *deformis* (misshapen), *vitium machinae* (machine fault)


### Morphology notes

* Each derivation expresses a **semantic transformation** of a base (verb, noun, or adjective).
* Boundaries are fluid; for example, *printer* may be **agentive** (person) or **instrumental** (device).
* Multiple derivations can chain:

  * *build* -> *builder* -> *builderhood* (agent -> group)
  * *bright* -> *brightness* -> *enlightenment* (adjective -> quality -> abstract concept)


## Body

ğŸ§ = body  
âœ‹ = hand  
ğŸ˜¶ = head  
â™¥ = heart (â‰  â¤ love)  
ğŸ‘„ = mouth  
ğŸ¦¶ = foot  


 

## Nature

ğŸ¥£ = food  

â›° = earth / ground  
ğŸ’§ = water  
ğŸ”¥ = fire  

â˜ = sky  
â˜€ = sun  
ğŸŒ™ = moon  
â­ = star   

â˜¥ = life  

ğŸŒ± = sprout  
ğŸŒ±Â¹ = sprout  
ğŸŒ±Â² = grass  
ğŸŒ±ğŸŒ± = sprouts  

ğŸŒ¿ = natural plant  
ğŸŒ¿Â¹ = natural plant  
ğŸŒ¿Â² = vegetation   
ğŸŒ¿Â³ = field   

ğŸŒ¾ = cultivated plant (of a crop)  
ğŸŒ¾Â¹ = cultivated plant (of a crop)   
ğŸŒ¾Â² = crop   
ğŸŒ¾ğŸŒ¾ = cultivated plants (of a crop)   

ğŸª´ = domestic plant  
ğŸª´Â¹ = domestic plant  
ğŸª´Â² = garden   
ğŸª´ğŸª´ = domestic plants   

ğŸŒ³ = tree   
ğŸŒ³Â¹ = tree  
ğŸŒ³Â² = forest   
ğŸŒ³ğŸŒ³ = trees   

ğŸŒ´ = palm  
ğŸŒ´Â¹ = palm  
ğŸŒ´Â² = jungle (don't care if it a proper jungle is made by several types of trees)  
ğŸŒ´ğŸŒ´ = palm trees   

ğŸ¶ = dog

## Things


âŒ– = place  
ğŸ“– = book  
ğŸ“„ = paper  
ğŸ“± = phone  
ğŸ§© = problem  


## Verbs

âœ‡ = use  
â©• = mean  
ğŸ«³ = put / set / place  
ğŸ«± = let / allow  
ğŸ«± ğŸ‘¤ğŸ‘¤â€ = let's     (let us)  
ğŸ³ = begin / start  
ğŸ = end / finish  
â§‡ = keep / stay  
ğŸ¤œ = move / push  
âš’ = work  
ğŸ›  = make  
ğŸ‘€ = see     
ğŸ‘€ â†¦ = look at  
ğŸ“š = know  
ğŸ’­ = think  

ğŸ’¬ = say / tell (content)                
ğŸ—£ = speak / tell (to someone) / talk    
ğŸ“¢ = call / shout / announce              
ğŸ· = name / label                        

â˜º = like  
â¤ = love  

âœ¦ = want  
âŠ = need  

â–³ = try  
ğŸ” = find  

ğŸ¤ = get  
âœŠ = take  
ğŸ‘ = give  
ğŸƒ = go  
ğŸ‘ˆ = come  
â†˜ = leave  
â¢ = help  
ğŸ´ = eat  
ğŸ· = drink  
âœº = show   
â¤ = bring   
ğŸ“¨ = send   
âŠ = open   
ğŸœ³ = close   
âš¡= happen  
ğŸ’“ = feel  
â¸® = ask  

## Testing vocabulary

ğŸ“¡ = contact  
ğŸ‘¨â€ğŸ’»â˜¯ = CoderDojo  
ãŠ· = the Answer to the Ultimate Question of Life, the Universe, and Everything  

## Examples

Concept "some": No emoji, no obvious Unicode character. Use abstract math circle fraction: â—”

Concept "a being"âŸ¡ Instead of ambiguous "person," define â†»âŸ¡ as literal "being."

Concept "I have been working":

Build by rules:

ğŸ‘¤ (I) + âŠ¸ (have) + â†¶âŸ¡ (been) + â†»âš’ (working).

Result:

ğŸ‘¤ âŠ¸ â†¶âŸ¡ â†»âš’


## Development


### Commands

`PICTOJI_VERSION`: replace with Pictoji specs header (without the #)

`[ROLE=LABEL]` : Enables actor LABEL. Output "Pictoji [role=LABEL]\n" and follow the rules stated in its section. In general:
  - let the invoked role  present her/himself according to its character with a one-liner.
  - if very first chat interaction,  let her/him do some on-boarding and offeri additional things a casual user might want to try with Pictoji  

`[END]`  : end of conversation, output nothing.
`[DEV+]` : turns on the mode. Output "Pictoji DEV mode is ON."  
`[DEV-]` : turns off the mode. Output "Pictoji DEV mode is OFF."  
`[REVIEW]`: Output "# `PICTOJI_VERSION` REVIEW RESULTS:" and start a thourough review of these specs.  
`[TEST]` : find blind spots, missing high freq terms, phrases you can't express.  
`[WRITE F]` where F is a file, create that file.  

## Finally

For 1 to 1 ordinary user request calls, let `role=secretary` do the routing work, and actors freely interpret their role (including yourself as `[role=screenwriter]` or `[role=reviewer]` when explicitly invoked)

DO NOT create any file unless told to.

DO NOT automatically run a review.

If you are not ChatGPT5 or some variant of it (like Thinking), raise a warning: "Note: Pictoji was tested only with ChatGPT5, it seems you are using another AI [PUT AI NAME]. Pictoji may or may not work as intended.".

Output "`PICTOJI_VERSION` loaded. Have fun!".

[DEV+]
[ROLE=secretary]